{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["file:///Users/Josip/Documents/dnd-notes-app/node_modules/styled-jsx/dist/index/index.js"],"sourcesContent":["require('client-only');\nvar React = require('react');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n/*\nBased on Glamor's sheet\nhttps://github.com/threepointone/glamor/blob/667b480d31b3721a905021b26e1290ce92ca2879/src/sheet.js\n*/ function _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nvar isProd = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV === \"production\";\nvar isString = function(o) {\n    return Object.prototype.toString.call(o) === \"[object String]\";\n};\nvar StyleSheet = /*#__PURE__*/ function() {\n    function StyleSheet(param) {\n        var ref = param === void 0 ? {} : param, _name = ref.name, name = _name === void 0 ? \"stylesheet\" : _name, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? isProd : _optimizeForSpeed;\n        invariant$1(isString(name), \"`name` must be a string\");\n        this._name = name;\n        this._deletedRulePlaceholder = \"#\" + name + \"-deleted-rule____{}\";\n        invariant$1(typeof optimizeForSpeed === \"boolean\", \"`optimizeForSpeed` must be a boolean\");\n        this._optimizeForSpeed = optimizeForSpeed;\n        this._serverSheet = undefined;\n        this._tags = [];\n        this._injected = false;\n        this._rulesCount = 0;\n        var node = typeof window !== \"undefined\" && document.querySelector('meta[property=\"csp-nonce\"]');\n        this._nonce = node ? node.getAttribute(\"content\") : null;\n    }\n    var _proto = StyleSheet.prototype;\n    _proto.setOptimizeForSpeed = function setOptimizeForSpeed(bool) {\n        invariant$1(typeof bool === \"boolean\", \"`setOptimizeForSpeed` accepts a boolean\");\n        invariant$1(this._rulesCount === 0, \"optimizeForSpeed cannot be when rules have already been inserted\");\n        this.flush();\n        this._optimizeForSpeed = bool;\n        this.inject();\n    };\n    _proto.isOptimizeForSpeed = function isOptimizeForSpeed() {\n        return this._optimizeForSpeed;\n    };\n    _proto.inject = function inject() {\n        var _this = this;\n        invariant$1(!this._injected, \"sheet already injected\");\n        this._injected = true;\n        if (typeof window !== \"undefined\" && this._optimizeForSpeed) {\n            this._tags[0] = this.makeStyleTag(this._name);\n            this._optimizeForSpeed = \"insertRule\" in this.getSheet();\n            if (!this._optimizeForSpeed) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: optimizeForSpeed mode not supported falling back to standard mode.\");\n                }\n                this.flush();\n                this._injected = true;\n            }\n            return;\n        }\n        this._serverSheet = {\n            cssRules: [],\n            insertRule: function(rule, index) {\n                if (typeof index === \"number\") {\n                    _this._serverSheet.cssRules[index] = {\n                        cssText: rule\n                    };\n                } else {\n                    _this._serverSheet.cssRules.push({\n                        cssText: rule\n                    });\n                }\n                return index;\n            },\n            deleteRule: function(index) {\n                _this._serverSheet.cssRules[index] = null;\n            }\n        };\n    };\n    _proto.getSheetForTag = function getSheetForTag(tag) {\n        if (tag.sheet) {\n            return tag.sheet;\n        }\n        // this weirdness brought to you by firefox\n        for(var i = 0; i < document.styleSheets.length; i++){\n            if (document.styleSheets[i].ownerNode === tag) {\n                return document.styleSheets[i];\n            }\n        }\n    };\n    _proto.getSheet = function getSheet() {\n        return this.getSheetForTag(this._tags[this._tags.length - 1]);\n    };\n    _proto.insertRule = function insertRule(rule, index) {\n        invariant$1(isString(rule), \"`insertRule` accepts only strings\");\n        if (typeof window === \"undefined\") {\n            if (typeof index !== \"number\") {\n                index = this._serverSheet.cssRules.length;\n            }\n            this._serverSheet.insertRule(rule, index);\n            return this._rulesCount++;\n        }\n        if (this._optimizeForSpeed) {\n            var sheet = this.getSheet();\n            if (typeof index !== \"number\") {\n                index = sheet.cssRules.length;\n            }\n            // this weirdness for perf, and chrome's weird bug\n            // https://stackoverflow.com/questions/20007992/chrome-suddenly-stopped-accepting-insertrule\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                return -1;\n            }\n        } else {\n            var insertionPoint = this._tags[index];\n            this._tags.push(this.makeStyleTag(this._name, rule, insertionPoint));\n        }\n        return this._rulesCount++;\n    };\n    _proto.replaceRule = function replaceRule(index, rule) {\n        if (this._optimizeForSpeed || typeof window === \"undefined\") {\n            var sheet = typeof window !== \"undefined\" ? this.getSheet() : this._serverSheet;\n            if (!rule.trim()) {\n                rule = this._deletedRulePlaceholder;\n            }\n            if (!sheet.cssRules[index]) {\n                // @TBD Should we throw an error?\n                return index;\n            }\n            sheet.deleteRule(index);\n            try {\n                sheet.insertRule(rule, index);\n            } catch (error) {\n                if (!isProd) {\n                    console.warn(\"StyleSheet: illegal rule: \\n\\n\" + rule + \"\\n\\nSee https://stackoverflow.com/q/20007992 for more info\");\n                }\n                // In order to preserve the indices we insert a deleteRulePlaceholder\n                sheet.insertRule(this._deletedRulePlaceholder, index);\n            }\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"old rule at index `\" + index + \"` not found\");\n            tag.textContent = rule;\n        }\n        return index;\n    };\n    _proto.deleteRule = function deleteRule(index) {\n        if (typeof window === \"undefined\") {\n            this._serverSheet.deleteRule(index);\n            return;\n        }\n        if (this._optimizeForSpeed) {\n            this.replaceRule(index, \"\");\n        } else {\n            var tag = this._tags[index];\n            invariant$1(tag, \"rule at index `\" + index + \"` not found\");\n            tag.parentNode.removeChild(tag);\n            this._tags[index] = null;\n        }\n    };\n    _proto.flush = function flush() {\n        this._injected = false;\n        this._rulesCount = 0;\n        if (typeof window !== \"undefined\") {\n            this._tags.forEach(function(tag) {\n                return tag && tag.parentNode.removeChild(tag);\n            });\n            this._tags = [];\n        } else {\n            // simpler on server\n            this._serverSheet.cssRules = [];\n        }\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        if (typeof window === \"undefined\") {\n            return this._serverSheet.cssRules;\n        }\n        return this._tags.reduce(function(rules, tag) {\n            if (tag) {\n                rules = rules.concat(Array.prototype.map.call(_this.getSheetForTag(tag).cssRules, function(rule) {\n                    return rule.cssText === _this._deletedRulePlaceholder ? null : rule;\n                }));\n            } else {\n                rules.push(null);\n            }\n            return rules;\n        }, []);\n    };\n    _proto.makeStyleTag = function makeStyleTag(name, cssString, relativeToTag) {\n        if (cssString) {\n            invariant$1(isString(cssString), \"makeStyleTag accepts only strings as second parameter\");\n        }\n        var tag = document.createElement(\"style\");\n        if (this._nonce) tag.setAttribute(\"nonce\", this._nonce);\n        tag.type = \"text/css\";\n        tag.setAttribute(\"data-\" + name, \"\");\n        if (cssString) {\n            tag.appendChild(document.createTextNode(cssString));\n        }\n        var head = document.head || document.getElementsByTagName(\"head\")[0];\n        if (relativeToTag) {\n            head.insertBefore(tag, relativeToTag);\n        } else {\n            head.appendChild(tag);\n        }\n        return tag;\n    };\n    _createClass(StyleSheet, [\n        {\n            key: \"length\",\n            get: function get() {\n                return this._rulesCount;\n            }\n        }\n    ]);\n    return StyleSheet;\n}();\nfunction invariant$1(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheet: \" + message + \".\");\n    }\n}\n\nfunction hash(str) {\n    var _$hash = 5381, i = str.length;\n    while(i){\n        _$hash = _$hash * 33 ^ str.charCodeAt(--i);\n    }\n    /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */ return _$hash >>> 0;\n}\nvar stringHash = hash;\n\nvar sanitize = function(rule) {\n    return rule.replace(/\\/style/gi, \"\\\\/style\");\n};\nvar cache = {};\n/**\n * computeId\n *\n * Compute and memoize a jsx id from a basedId and optionally props.\n */ function computeId(baseId, props) {\n    if (!props) {\n        return \"jsx-\" + baseId;\n    }\n    var propsToString = String(props);\n    var key = baseId + propsToString;\n    if (!cache[key]) {\n        cache[key] = \"jsx-\" + stringHash(baseId + \"-\" + propsToString);\n    }\n    return cache[key];\n}\n/**\n * computeSelector\n *\n * Compute and memoize dynamic selectors.\n */ function computeSelector(id, css) {\n    var selectoPlaceholderRegexp = /__jsx-style-dynamic-selector/g;\n    // Sanitize SSR-ed CSS.\n    // Client side code doesn't need to be sanitized since we use\n    // document.createTextNode (dev) and the CSSOM api sheet.insertRule (prod).\n    if (typeof window === \"undefined\") {\n        css = sanitize(css);\n    }\n    var idcss = id + css;\n    if (!cache[idcss]) {\n        cache[idcss] = css.replace(selectoPlaceholderRegexp, id);\n    }\n    return cache[idcss];\n}\n\nfunction mapRulesToStyle(cssRules, options) {\n    if (options === void 0) options = {};\n    return cssRules.map(function(args) {\n        var id = args[0];\n        var css = args[1];\n        return /*#__PURE__*/ React__default[\"default\"].createElement(\"style\", {\n            id: \"__\" + id,\n            // Avoid warnings upon render with a key\n            key: \"__\" + id,\n            nonce: options.nonce ? options.nonce : undefined,\n            dangerouslySetInnerHTML: {\n                __html: css\n            }\n        });\n    });\n}\nvar StyleSheetRegistry = /*#__PURE__*/ function() {\n    function StyleSheetRegistry(param) {\n        var ref = param === void 0 ? {} : param, _styleSheet = ref.styleSheet, styleSheet = _styleSheet === void 0 ? null : _styleSheet, _optimizeForSpeed = ref.optimizeForSpeed, optimizeForSpeed = _optimizeForSpeed === void 0 ? false : _optimizeForSpeed;\n        this._sheet = styleSheet || new StyleSheet({\n            name: \"styled-jsx\",\n            optimizeForSpeed: optimizeForSpeed\n        });\n        this._sheet.inject();\n        if (styleSheet && typeof optimizeForSpeed === \"boolean\") {\n            this._sheet.setOptimizeForSpeed(optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    }\n    var _proto = StyleSheetRegistry.prototype;\n    _proto.add = function add(props) {\n        var _this = this;\n        if (undefined === this._optimizeForSpeed) {\n            this._optimizeForSpeed = Array.isArray(props.children);\n            this._sheet.setOptimizeForSpeed(this._optimizeForSpeed);\n            this._optimizeForSpeed = this._sheet.isOptimizeForSpeed();\n        }\n        if (typeof window !== \"undefined\" && !this._fromServer) {\n            this._fromServer = this.selectFromServer();\n            this._instancesCounts = Object.keys(this._fromServer).reduce(function(acc, tagName) {\n                acc[tagName] = 0;\n                return acc;\n            }, {});\n        }\n        var ref = this.getIdAndRules(props), styleId = ref.styleId, rules = ref.rules;\n        // Deduping: just increase the instances count.\n        if (styleId in this._instancesCounts) {\n            this._instancesCounts[styleId] += 1;\n            return;\n        }\n        var indices = rules.map(function(rule) {\n            return _this._sheet.insertRule(rule);\n        })// Filter out invalid rules\n        .filter(function(index) {\n            return index !== -1;\n        });\n        this._indices[styleId] = indices;\n        this._instancesCounts[styleId] = 1;\n    };\n    _proto.remove = function remove(props) {\n        var _this = this;\n        var styleId = this.getIdAndRules(props).styleId;\n        invariant(styleId in this._instancesCounts, \"styleId: `\" + styleId + \"` not found\");\n        this._instancesCounts[styleId] -= 1;\n        if (this._instancesCounts[styleId] < 1) {\n            var tagFromServer = this._fromServer && this._fromServer[styleId];\n            if (tagFromServer) {\n                tagFromServer.parentNode.removeChild(tagFromServer);\n                delete this._fromServer[styleId];\n            } else {\n                this._indices[styleId].forEach(function(index) {\n                    return _this._sheet.deleteRule(index);\n                });\n                delete this._indices[styleId];\n            }\n            delete this._instancesCounts[styleId];\n        }\n    };\n    _proto.update = function update(props, nextProps) {\n        this.add(nextProps);\n        this.remove(props);\n    };\n    _proto.flush = function flush() {\n        this._sheet.flush();\n        this._sheet.inject();\n        this._fromServer = undefined;\n        this._indices = {};\n        this._instancesCounts = {};\n    };\n    _proto.cssRules = function cssRules() {\n        var _this = this;\n        var fromServer = this._fromServer ? Object.keys(this._fromServer).map(function(styleId) {\n            return [\n                styleId,\n                _this._fromServer[styleId]\n            ];\n        }) : [];\n        var cssRules = this._sheet.cssRules();\n        return fromServer.concat(Object.keys(this._indices).map(function(styleId) {\n            return [\n                styleId,\n                _this._indices[styleId].map(function(index) {\n                    return cssRules[index].cssText;\n                }).join(_this._optimizeForSpeed ? \"\" : \"\\n\")\n            ];\n        })// filter out empty rules\n        .filter(function(rule) {\n            return Boolean(rule[1]);\n        }));\n    };\n    _proto.styles = function styles(options) {\n        return mapRulesToStyle(this.cssRules(), options);\n    };\n    _proto.getIdAndRules = function getIdAndRules(props) {\n        var css = props.children, dynamic = props.dynamic, id = props.id;\n        if (dynamic) {\n            var styleId = computeId(id, dynamic);\n            return {\n                styleId: styleId,\n                rules: Array.isArray(css) ? css.map(function(rule) {\n                    return computeSelector(styleId, rule);\n                }) : [\n                    computeSelector(styleId, css)\n                ]\n            };\n        }\n        return {\n            styleId: computeId(id),\n            rules: Array.isArray(css) ? css : [\n                css\n            ]\n        };\n    };\n    /**\n   * selectFromServer\n   *\n   * Collects style tags from the document with id __jsx-XXX\n   */ _proto.selectFromServer = function selectFromServer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll('[id^=\"__jsx-\"]'));\n        return elements.reduce(function(acc, element) {\n            var id = element.id.slice(2);\n            acc[id] = element;\n            return acc;\n        }, {});\n    };\n    return StyleSheetRegistry;\n}();\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(\"StyleSheetRegistry: \" + message + \".\");\n    }\n}\nvar StyleSheetContext = /*#__PURE__*/ React.createContext(null);\nStyleSheetContext.displayName = \"StyleSheetContext\";\nfunction createStyleRegistry() {\n    return new StyleSheetRegistry();\n}\nfunction StyleRegistry(param) {\n    var configuredRegistry = param.registry, children = param.children;\n    var rootRegistry = React.useContext(StyleSheetContext);\n    var ref = React.useState(function() {\n        return rootRegistry || configuredRegistry || createStyleRegistry();\n    }), registry = ref[0];\n    return /*#__PURE__*/ React__default[\"default\"].createElement(StyleSheetContext.Provider, {\n        value: registry\n    }, children);\n}\nfunction useStyleRegistry() {\n    return React.useContext(StyleSheetContext);\n}\n\n// Opt-into the new `useInsertionEffect` API in React 18, fallback to `useLayoutEffect`.\n// https://github.com/reactwg/react-18/discussions/110\nvar useInsertionEffect = React__default[\"default\"].useInsertionEffect || React__default[\"default\"].useLayoutEffect;\nvar defaultRegistry = typeof window !== \"undefined\" ? createStyleRegistry() : undefined;\nfunction JSXStyle(props) {\n    var registry = defaultRegistry ? defaultRegistry : useStyleRegistry();\n    // If `registry` does not exist, we do nothing here.\n    if (!registry) {\n        return null;\n    }\n    if (typeof window === \"undefined\") {\n        registry.add(props);\n        return null;\n    }\n    useInsertionEffect(function() {\n        registry.add(props);\n        return function() {\n            registry.remove(props);\n        };\n    // props.children can be string[], will be striped since id is identical\n    }, [\n        props.id,\n        String(props.dynamic)\n    ]);\n    return null;\n}\nJSXStyle.dynamic = function(info) {\n    return info.map(function(tagInfo) {\n        var baseId = tagInfo[0];\n        var props = tagInfo[1];\n        return computeId(baseId, props);\n    }).join(\" \");\n};\n\nexports.StyleRegistry = StyleRegistry;\nexports.createStyleRegistry = createStyleRegistry;\nexports.style = JSXStyle;\nexports.useStyleRegistry = useStyleRegistry;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///Users/Josip/Documents/dnd-notes-app/node_modules/styled-jsx/style.js"],"sourcesContent":["module.exports = require('./dist/index').style\n"],"names":[],"mappings":"AAAA,OAAO,OAAO,GAAG,2GAAwB,KAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/defer.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/waitFor.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/injectScript.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/injectStylesheet.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/isSSR.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/once.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/overwriteArray.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/overwriteObject.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/preloadResource.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/shallowCompareArrays.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/uid.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/uniq.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/waitForWindowEntry.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/filterObjectValues.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/filterBlankObjectValues.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/mapObjectValues.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/without.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/plugins/appendExtraPluginsToEditorConfig.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/version/isSemanticVersion.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/ck/isCKCdnVersion.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/utils/version/destructureSemanticVersion.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/license/getLicenseVersionFromEditorVersion.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/installation-info/getCKBaseBundleInstallationInfo.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/installation-info/getSupportedLicenseVersionInstallationInfo.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/license/isCKEditorFreeLicense.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/plugins/IntegrationUsageDataPlugin.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/ck/createCKCdnUrl.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/ckbox/createCKBoxCdnUrl.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/docs/createCKDocsUrl.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/ck/createCKCdnBaseBundlePack.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/ck/createCKCdnPremiumBundlePack.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/utils/loadCKCdnResourcesPack.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/utils/combineCKCdnBundlesPacks.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/installation-info/getCKBoxInstallationInfo.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/ckbox/createCKBoxCdnBundlePack.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/license/isCKCdnSupportedByEditorVersion.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/plugins/combineCdnPluginsPacks.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-integrations-common/src/cdn/loadCKEditorCloud.ts"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nexport type Defer<E> = {\n\tpromise: Promise<E>;\n\tresolve: ( value: E ) => void;\n};\n\n/**\n * This function generates a promise that can be resolved by invoking the returned `resolve` method.\n * It proves to be beneficial in the creation of various types of locks and semaphores.\n *\n * It can be replaced with `Promise.withResolvers()` in the future.\n */\nexport function createDefer<E = void>(): Defer<E> {\n\tconst deferred: Defer<E> = {\n\t\tresolve: null as any,\n\t\tpromise: null as any\n\t};\n\n\tdeferred.promise = new Promise<E>( resolve => {\n\t\tdeferred.resolve = resolve;\n\t} );\n\n\treturn deferred;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { Awaitable } from '../types/Awaitable.js';\n\n/**\n * Waits for the provided callback to succeed. The callback is executed multiple times until it succeeds or the timeout is reached.\n * It's executed immediately and then with a delay defined by the `retry` option.\n *\n * @param callback The callback to execute.\n * @param config Configuration for the function.\n * @returns A promise that resolves when the callback succeeds.\n *\n * @example\n * ```ts\n * await waitFor( async () => {\n * \tconst element = document.querySelector( '.my-element' );\n * \tif ( !element ) {\n * \t\tthrow new Error( 'Element not found.' );\n * \t}\n * } );\n * ```\n */\nexport function waitFor<R>(\n\tcallback: () => Awaitable<R>,\n\t{\n\t\ttimeOutAfter = 500,\n\t\tretryAfter = 100\n\t}: WaitForConfig = {}\n): Promise<R> {\n\t// Retry the callback until it succeeds or the timeout is reached.\n\treturn new Promise<R>( ( resolve, reject ) => {\n\t\tconst startTime = Date.now();\n\t\tlet lastError: Error | null = null;\n\n\t\tconst timeoutTimerId = setTimeout( () => {\n\t\t\treject( lastError ?? new Error( 'Timeout' ) );\n\t\t}, timeOutAfter );\n\n\t\tconst tick = async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await callback();\n\t\t\t\tclearTimeout( timeoutTimerId );\n\t\t\t\tresolve( result );\n\t\t\t} catch ( err: any ) {\n\t\t\t\tlastError = err;\n\n\t\t\t\tif ( Date.now() - startTime > timeOutAfter ) {\n\t\t\t\t\treject( err );\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout( tick, retryAfter );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\ttick();\n\t} );\n}\n\n/**\n * Configuration for the `waitFor` function.\n */\nexport type WaitForConfig = {\n\t// The time in milliseconds after which the function will stop retrying and reject the promise.\n\ttimeOutAfter?: number;\n\n\t// The time in milliseconds between retries.\n\tretryAfter?: number;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Map of injected scripts. It is used to prevent injecting the same script multiple times.\n * It happens quite often in React Strict mode when the component is rendered twice.\n */\nexport const INJECTED_SCRIPTS = new Map<string, Promise<void>>();\n\n/**\n * Injects a script into the document.\n *\n * @param src The URL of the script to be injected.\n * @param props Additional properties used to decide how the script should be injected.\n * @param props.attributes Additional attributes to be set on the script element.\n * @returns A promise that resolves when the script is loaded.\n */\nexport function injectScript(\n\tsrc: string,\n\t{ attributes }: InjectScriptProps = {}\n): Promise<void> {\n\t// Return the promise if the script is already injected by this function.\n\tif ( INJECTED_SCRIPTS.has( src ) ) {\n\t\treturn INJECTED_SCRIPTS.get( src )!;\n\t}\n\n\t// Return the promise if the script is already present in the document but not injected by this function.\n\t// We are not sure if the script is loaded or not, so we have to show warning in this case.\n\tconst maybePrevScript = document.querySelector( `script[src=\"${ src }\"]` );\n\n\tif ( maybePrevScript ) {\n\t\tconsole.warn( `Script with \"${ src }\" src is already present in DOM!` );\n\t\tmaybePrevScript.remove();\n\t}\n\n\t// Inject the script and return the promise.\n\tconst promise = new Promise<void>( ( resolve, reject ) => {\n\t\tconst script = document.createElement( 'script' );\n\n\t\tscript.onerror = reject;\n\t\tscript.onload = () => {\n\t\t\tresolve();\n\t\t};\n\n\t\t// Set additional attributes if provided.\n\t\tfor ( const [ key, value ] of Object.entries( attributes || {} ) ) {\n\t\t\tscript.setAttribute( key, value );\n\t\t}\n\n\t\tscript.setAttribute( 'data-injected-by', 'ckeditor-integration' );\n\n\t\tscript.type = 'text/javascript';\n\t\tscript.async = true;\n\t\tscript.src = src;\n\n\t\tdocument.head.appendChild( script );\n\n\t\t// It should remove script if script is being removed from the DOM.\n\t\tconst observer = new MutationObserver( mutations => {\n\t\t\tconst removedNodes = mutations.flatMap( mutation => Array.from( mutation.removedNodes ) );\n\n\t\t\tif ( removedNodes.includes( script ) ) {\n\t\t\t\tINJECTED_SCRIPTS.delete( src );\n\t\t\t\tobserver.disconnect();\n\t\t\t}\n\t\t} );\n\n\t\tobserver.observe( document.head, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true\n\t\t} );\n\t} );\n\n\tINJECTED_SCRIPTS.set( src, promise );\n\n\treturn promise;\n}\n\n/**\n * Props for the `injectScript` function.\n */\nexport type InjectScriptProps = {\n\tattributes?: Record<string, any>;\n};\n\n/**\n * Injects multiple scripts into the document in parallel.\n *\n * @param sources The URLs of the scripts to be injected.\n * @param props Additional properties used to decide how the script should be injected.\n * @returns A promise that resolves when all scripts are loaded.\n */\nexport async function injectScriptsInParallel( sources: Array<string>, props?: InjectScriptProps ): Promise<void> {\n\tawait Promise.all(\n\t\tsources.map( src => injectScript( src, props ) )\n\t);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Map of injected stylesheets. It's used to prevent injecting the same stylesheet multiple times.\n * It happens quite often in React Strict mode when the component is rendered twice.\n */\nexport const INJECTED_STYLESHEETS = new Map<string, Promise<void>>();\n\n/**\n * Injects a stylesheet into the document.\n *\n * @param props.href The URL of the stylesheet to be injected.\n * @param props.placementInHead The placement of the stylesheet in the head.\n * @param props.attributes Additional attributes to be set on the link element.\n * @returns A promise that resolves when the stylesheet is loaded.\n */\nexport function injectStylesheet(\n\t{\n\t\thref,\n\t\tplacementInHead = 'start',\n\t\tattributes = {}\n\t}: InjectStylesheetProps\n): Promise<void> {\n\t// Return the promise if the stylesheet is already injected by this function.\n\tif ( INJECTED_STYLESHEETS.has( href ) ) {\n\t\treturn INJECTED_STYLESHEETS.get( href )!;\n\t}\n\n\t// Return the promise if the stylesheet is already present in the document but not injected by this function.\n\t// We are not sure if the stylesheet is loaded or not, so we have to show a warning in this case.\n\tconst maybePrevStylesheet = document.querySelector( `link[href=\"${ href }\"][rel=\"stylesheet\"]` );\n\n\tif ( maybePrevStylesheet ) {\n\t\tconsole.warn( `Stylesheet with \"${ href }\" href is already present in DOM!` );\n\t\tmaybePrevStylesheet.remove();\n\t}\n\n\t// Append the link tag to the head.\n\tconst appendLinkTagToHead = ( link: HTMLLinkElement ) => {\n\t\t// Inject styles after the stylesheets that are already present in the head.\n\t\t// Do not specify the `rel` attribute because we want to inject the stylesheet even after\n\t\t// preloading link tags.\n\t\tconst previouslyInjectedLinks = Array.from(\n\t\t\tdocument.head.querySelectorAll( 'link[data-injected-by=\"ckeditor-integration\"]' )\n\t\t);\n\n\t\tswitch ( placementInHead ) {\n\t\t\t// It'll append styles *before* the stylesheets that are already present in the head\n\t\t\t// but after the ones that are injected by this function.\n\t\t\tcase 'start':\n\t\t\t\tif ( previouslyInjectedLinks.length ) {\n\t\t\t\t\tpreviouslyInjectedLinks.slice( -1 )[ 0 ].after( link );\n\t\t\t\t} else {\n\t\t\t\t\tdocument.head.insertBefore( link, document.head.firstChild );\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t// It'll append styles *after* the stylesheets already in the head.\n\t\t\tcase 'end':\n\t\t\t\tdocument.head.appendChild( link );\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t// Inject the stylesheet and return the promise.\n\tconst promise = new Promise<void>( ( resolve, reject ) => {\n\t\tconst link = document.createElement( 'link' );\n\n\t\t// Set additional attributes if provided.\n\t\tfor ( const [ key, value ] of Object.entries( attributes || {} ) ) {\n\t\t\tlink.setAttribute( key, value );\n\t\t}\n\n\t\tlink.setAttribute( 'data-injected-by', 'ckeditor-integration' );\n\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = href;\n\n\t\tlink.onerror = reject;\n\t\tlink.onload = () => {\n\t\t\tresolve();\n\t\t};\n\n\t\tappendLinkTagToHead( link );\n\n\t\t// It should remove stylesheet if stylesheet is being removed from the DOM.\n\t\tconst observer = new MutationObserver( mutations => {\n\t\t\tconst removedNodes = mutations.flatMap( mutation => Array.from( mutation.removedNodes ) );\n\n\t\t\tif ( removedNodes.includes( link ) ) {\n\t\t\t\tINJECTED_STYLESHEETS.delete( href );\n\t\t\t\tobserver.disconnect();\n\t\t\t}\n\t\t} );\n\n\t\tobserver.observe( document.head, {\n\t\t\tchildList: true,\n\t\t\tsubtree: true\n\t\t} );\n\t} );\n\n\tINJECTED_STYLESHEETS.set( href, promise );\n\n\treturn promise;\n}\n\n/**\n * Props for the `injectStylesheet` function.\n */\ntype InjectStylesheetProps = {\n\n\t/**\n\t * The URL of the stylesheet to be injected.\n\t */\n\thref: string;\n\n\t/**\n\t * The placement of the stylesheet in the head. It can be either at the start or at the end\n\t * of the head. Default is 'start' because it allows user to override the styles easily.\n\t */\n\tplacementInHead?: 'start' | 'end';\n\n\t/**\n\t * Additional attributes to set on the link tag.\n\t */\n\tattributes?: Record<string, any>;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nexport function isSSR(): boolean {\n\treturn typeof window === 'undefined';\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Ensures that passed function will be executed only once.\n */\nexport function once<A extends Array<any>, R = void>( fn: ( ...args: A ) => R ): ( ...args: A ) => R {\n\tlet lastResult: { current: R } | null = null;\n\n\treturn ( ...args: A ): R => {\n\t\tif ( !lastResult ) {\n\t\t\tlastResult = {\n\t\t\t\tcurrent: fn( ...args )\n\t\t\t};\n\t\t}\n\n\t\treturn lastResult.current;\n\t};\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Clear whole array while keeping its reference.\n */\nexport function overwriteArray<A extends Array<any>>( source: A, destination: A ): A {\n\tdestination.length = 0;\n\tdestination.push( ...source );\n\n\treturn destination;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Clears whole object while keeping its reference.\n */\nexport function overwriteObject<O extends Record<string, any>>( source: O, destination: O ): O {\n\tfor ( const prop of Object.getOwnPropertyNames( destination ) ) {\n\t\tdelete destination[ prop ];\n\t}\n\n\t// Prevent assigning self referencing attributes which crashes `Object.assign`.\n\tfor ( const [ key, value ] of Object.entries( source ) ) {\n\t\tif ( value !== destination && key !== 'prototype' && key !== '__proto__' ) {\n\t\t\t( destination as any )[ key ] = value;\n\t\t}\n\t}\n\n\treturn destination;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Appends a `<link>` element to the `<head>` to preload a resource.\n *\n * \t* It should detect if the resource is already preloaded.\n * \t* It should detect type of the resource and set the `as` attribute accordingly.\n *\n * @param url The URL of the resource to preload.\n * @param props Additional properties for the preload.\n * @param props.attributes Additional attributes to be set on the `<link>` element.\n */\nexport function preloadResource(\n\turl: string,\n\t{ attributes }: PreloadResourceProps = {}\n): void {\n\tif ( document.head.querySelector( `link[href=\"${ url }\"][rel=\"preload\"]` ) ) {\n\t\treturn;\n\t}\n\n\tconst link = document.createElement( 'link' );\n\n\t// Set additional attributes if provided.\n\tfor ( const [ key, value ] of Object.entries( attributes || {} ) ) {\n\t\tlink.setAttribute( key, value );\n\t}\n\n\tlink.setAttribute( 'data-injected-by', 'ckeditor-integration' );\n\n\tlink.rel = 'preload';\n\tlink.as = detectTypeOfResource( url );\n\tlink.href = url;\n\n\tdocument.head.insertBefore( link, document.head.firstChild );\n}\n\n/**\n * Properties for the `preloadResource` function.\n */\ntype PreloadResourceProps = {\n\tattributes?: Record<string, any>;\n};\n\n/**\n * Detects the type of the resource based on its URL.\n */\nfunction detectTypeOfResource( url: string ): string {\n\tswitch ( true ) {\n\t\tcase /\\.css$/.test( url ):\n\t\t\treturn 'style';\n\n\t\tcase /\\.js$/.test( url ):\n\t\t\treturn 'script';\n\n\t\tdefault:\n\t\t\treturn 'fetch';\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Shallow comparison of two arrays.\n */\nexport function shallowCompareArrays<T>(\n\ta: Readonly<Array<T> | null>,\n\tb: Readonly<Array<T> | null>\n): boolean {\n\tif ( a === b ) {\n\t\treturn true;\n\t}\n\n\tif ( !a || !b ) {\n\t\treturn false;\n\t}\n\n\tfor ( let i = 0; i < a.length; ++i ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * A hash table of hex numbers to avoid using toString() in uid() which is costly.\n * [ '00', '01', '02', ..., 'fe', 'ff' ]\n */\nconst HEX_NUMBERS = new Array( 256 ).fill( '' )\n\t.map( ( _, index ) => ( '0' + ( index ).toString( 16 ) ).slice( -2 ) );\n\n/**\n * Returns a unique id. The id starts with an \"e\" character and a randomly generated string of\n * 32 alphanumeric characters.\n *\n * **Note**: The characters the unique id is built from correspond to the hex number notation\n * (from \"0\" to \"9\", from \"a\" to \"f\"). In other words, each id corresponds to an \"e\" followed\n * by 16 8-bit numbers next to each other.\n *\n * @returns An unique id string.\n */\nexport function uid(): string {\n\t// Generate 4 random 32-bit numbers.\n\tconst [ r1, r2, r3, r4 ] = crypto.getRandomValues( new Uint32Array( 4 ) );\n\n\t// Make sure that id does not start with number.\n\treturn 'e' +\n\t\tHEX_NUMBERS[ r1 >> 0 & 0xFF ] +\n\t\tHEX_NUMBERS[ r1 >> 8 & 0xFF ] +\n\t\tHEX_NUMBERS[ r1 >> 16 & 0xFF ] +\n\t\tHEX_NUMBERS[ r1 >> 24 & 0xFF ] +\n\t\tHEX_NUMBERS[ r2 >> 0 & 0xFF ] +\n\t\tHEX_NUMBERS[ r2 >> 8 & 0xFF ] +\n\t\tHEX_NUMBERS[ r2 >> 16 & 0xFF ] +\n\t\tHEX_NUMBERS[ r2 >> 24 & 0xFF ] +\n\t\tHEX_NUMBERS[ r3 >> 0 & 0xFF ] +\n\t\tHEX_NUMBERS[ r3 >> 8 & 0xFF ] +\n\t\tHEX_NUMBERS[ r3 >> 16 & 0xFF ] +\n\t\tHEX_NUMBERS[ r3 >> 24 & 0xFF ] +\n\t\tHEX_NUMBERS[ r4 >> 0 & 0xFF ] +\n\t\tHEX_NUMBERS[ r4 >> 8 & 0xFF ] +\n\t\tHEX_NUMBERS[ r4 >> 16 & 0xFF ] +\n\t\tHEX_NUMBERS[ r4 >> 24 & 0xFF ];\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * A utility function that removes duplicate elements from an array.\n */\nexport function uniq<A>( source: Array<A> ): Array<A> {\n\treturn Array.from( new Set( source ) );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { waitFor, type WaitForConfig } from './waitFor.js';\n\n/**\n * Waits for the provided window entry to be available. It's used mostly for waiting for the CKEditor 5 window object to be available.\n * In theory these entries should be available immediately, but in practice, they might be loaded asynchronously because browser might\n * delay execution of the script even if it's loaded synchronously.\n *\n * Function ensures that proper type declarations are present on global Window interface.\n *\n * @param entryNames The names of the window entries to wait for.\n * @param config Configuration for the function.\n * @returns A promise that resolves when the window entry is available.\n *\n * @example\n * ```ts\n * const ckeditor = await waitForWindowEntry( [ 'CKEditor' ] );\n * ```\n */\nexport async function waitForWindowEntry<\n\tN extends keyof Window,\n\tO = Window[ N ]\n>( entryNames: Array<N>, config?: WaitForConfig ): Promise<O> {\n\t// Try to pick the bundle from the window object.\n\tconst tryPickBundle = () => (\n\t\tentryNames\n\t\t\t.map( name => ( window as any )[ name ] )\n\t\t\t.filter( Boolean )[ 0 ]\n\t);\n\n\treturn waitFor<O>(\n\t\t() => {\n\t\t\tconst result = tryPickBundle();\n\n\t\t\tif ( !result ) {\n\t\t\t\tthrow new Error( `Window entry \"${ entryNames.join( ',' ) }\" not found.` );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tconfig\n\t);\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Filters object values using the provided filter function.\n *\n * @param obj Object to filter.\n * @param filter Function that filters the object values.\n * @returns Object with filtered values.\n *\n * @example\n * ```ts\n * const obj = {\n * \ta: 1,\n * \tb: 2\n * };\n *\n * const filteredObj = filterObjectValues( value => value > 1, obj );\n * // filteredObj is { b: 2 }\n * ```\n */\nexport function filterObjectValues<T>(\n\tobj: Record<string, T>,\n\tfilter: ( value: T, key: string ) => boolean\n): Record<string, T> {\n\tconst filteredEntries = Object\n\t\t.entries( obj )\n\t\t.filter( ( [ key, value ] ) => filter( value, key ) );\n\n\treturn Object.fromEntries( filteredEntries );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { filterObjectValues } from './filterObjectValues.js';\n\n/**\n * Removes null and undefined values from an object.\n *\n * @param obj Object to filter.\n * @returns Object with filtered values.\n * @example\n * ```ts\n * const obj = {\n * \ta: 1,\n * \tb: null,\n * \tc: undefined\n * };\n *\n * const filteredObj = filterBlankObjectValues( obj );\n * // filteredObj is { a: 1 }\n * ```\n */\nexport function filterBlankObjectValues<T>( obj: Record<string, T> ): FilterBlankRecordProperties<T> {\n\treturn filterObjectValues(\n\t\tobj,\n\t\tvalue => value !== null && value !== undefined\n\t) as FilterBlankRecordProperties<T>;\n}\n\n/**\n * Removes null and undefined values from an object.\n */\ntype FilterBlankRecordProperties<T> = Record<string, Exclude<T, null | undefined>>;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Maps object values using the provided mapper function.\n *\n * @param obj Object to map.\n * @param mapper Function that maps the object values.\n * @returns Object with mapped values.\n *\n * @example\n * ```ts\n * const obj = {\n * \ta: 1,\n * \tb: 2\n * };\n *\n * const mappedObj = mapObjectValues( obj, value => value * 2 );\n * // mappedObj is { a: 2, b: 4 }\n * ```\n */\nexport function mapObjectValues<T, U>(\n\tobj: Record<string, T>,\n\tmapper: ( value: T, key: string ) => U\n): Record<string, U> {\n\tconst mappedEntries = Object\n\t\t.entries( obj )\n\t\t.map( ( [ key, value ] ) => [ key, mapper( value, key ) ] as const );\n\n\treturn Object.fromEntries( mappedEntries );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Removes items from an array by values.\n *\n * @param itemsToRemove Items to remove.\n * @param items Array to remove items from.\n * @returns Array without removed items.\n */\nexport function without<A>( itemsToRemove: Array<A>, items: Array<A> ): Array<A> {\n\treturn items.filter( item => !itemsToRemove.includes( item ) );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { EditorConfig, PluginConstructor } from 'ckeditor5';\n\n/**\n * Appends plugins to the editor configuration.\n * It uses the `extraPlugins` property to append the plugins to avoid dealing with built-in constructor plugins.\n *\n * @param config The editor configuration.\n * @param plugins The plugins to append.\n * @returns The editor configuration with the plugins appended.\n * @example\n * ```ts\n * const editorConfig = appendExtraPluginsToEditorConfig(\n * \t{\n * \t\textraPlugins: [ 'Plugin1' ]\n * \t},\n * \t[ 'Plugin2' ]\n * );\n *\n * console.log( editorConfig.extraPlugins ); // [ 'Plugin1', 'Plugin2' ]\n * ```\n */\nexport function appendExtraPluginsToEditorConfig(\n\tconfig: EditorConfig,\n\tplugins: Array<PluginConstructor>\n): EditorConfig {\n\tconst extraPlugins = config.extraPlugins || [];\n\n\t// Do not use `uniq`. There might be integrations with duplicated plugins, so to\n\t// make it backward compatible, we need to keep the order of the plugins.\n\treturn {\n\t\t...config,\n\t\textraPlugins: [\n\t\t\t...extraPlugins,\n\t\t\t...plugins.filter( item => !extraPlugins.includes( item ) )\n\t\t]\n\t};\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nexport type SemanticVersion = `${ number }.${ number }.${ number }`;\n\n/**\n * Checks if the given string is a semantic version number.\n *\n * @param version - The string to check.\n * @returns `true` if the string is a semantic version, `false` otherwise.\n */\nexport function isSemanticVersion( version: string | undefined | null ): version is SemanticVersion {\n\treturn !!version && /^\\d+\\.\\d+\\.\\d+/.test( version );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { isSemanticVersion, type SemanticVersion } from '../../utils/version/isSemanticVersion.js';\n\n/**\n * A version of the CKEditor that is used for testing purposes.\n */\nexport type CKCdnTestingVersion =\n\t| 'nightly'\n\t| `nightly-${ string }`\n\t| 'alpha'\n\t| 'staging'\n\t| 'internal';\n\n/**\n * A version of a file on the CKEditor CDN.\n */\nexport type CKCdnVersion =\n\t| SemanticVersion\n\t| CKCdnTestingVersion;\n\n/**\n * Checks if the given string is a version of a file on the CKEditor CDN.\n *\n * @param version - The string to check.\n * @returns `true` if the string is a version of a file on the CKEditor CDN, `false` otherwise.\n * @example\n * ```ts\n * isCKCdnTestingVersion( '1.2.3-nightly-abc' ); // -> true\n * isCKCdnTestingVersion( '1.2.3-internal-abc' ); // -> true\n * isCKCdnTestingVersion( '1.2.3-alpha.1' ); // -> true\n * isCKCdnTestingVersion( '1.2.3' ); // -> false\n * isCKCdnTestingVersion( 'nightly' ); // -> true\n * isCKCdnTestingVersion( 'nightly-abc' ); // -> true\n * isCKCdnTestingVersion( 'staging' ); // -> true\n * ```\n */\nexport function isCKCdnTestingVersion( version: string | undefined ): version is CKCdnTestingVersion {\n\tif ( !version ) {\n\t\treturn false;\n\t}\n\n\treturn [ 'nightly', 'alpha', 'internal', 'nightly-', 'staging' ].some( testVersion => version.includes( testVersion ) );\n}\n\n/**\n * Checks if the given string is a version of a file on the CKEditor CDN.\n *\n * @param version - The string to check.\n * @returns `true` if the string is a version of a file on the CKEditor CDN, `false` otherwise.\n * @example\n * ```ts\n * isCKCdnVersion( 'nightly' ); // -> true\n * isCKCdnVersion( 'alpha' ); // -> true\n * isCKCdnVersion( 'rc-1.2.3' ); // -> true\n * isCKCdnVersion( '1.2.3' ); // -> true\n * isCKCdnVersion( 'nightly-abc' ); // -> true\n * isCKCdnVersion( 'staging' ); // -> true\n * ```\n */\nexport function isCKCdnVersion( version: string | undefined ): version is CKCdnVersion {\n\treturn isSemanticVersion( version ) || isCKCdnTestingVersion( version );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { isSemanticVersion, type SemanticVersion } from './isSemanticVersion.js';\n\ntype DestructuredSemanticVersion = {\n\tmajor: number;\n\tminor: number;\n\tpatch: number;\n};\n\n/**\n * Destructure a semantic version string into its major, minor, and patch components.\n *\n * @param version - The semantic version string to destructure.\n * @returns An object containing the major, minor, and patch numbers.\n * @throws Will throw an error if the provided version is not a valid semantic version.\n */\nexport function destructureSemanticVersion( version: SemanticVersion ): DestructuredSemanticVersion {\n\tif ( !isSemanticVersion( version ) ) {\n\t\tthrow new Error( `Invalid semantic version: ${ version || '<blank>' }.` );\n\t}\n\n\tconst [ major, minor, patch ] = version.split( '.' );\n\n\treturn {\n\t\tmajor: Number.parseInt( major, 10 ),\n\t\tminor: Number.parseInt( minor, 10 ),\n\t\tpatch: Number.parseInt( patch, 10 )\n\t};\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { type CKCdnVersion, isCKCdnTestingVersion } from '../cdn/ck/isCKCdnVersion.js';\nimport { destructureSemanticVersion } from '../utils/version/destructureSemanticVersion.js';\nimport type { LicenseKeyVersion } from './LicenseKey.js';\n\n/**\n * Returns the license version that is supported by the given CKEditor version.\n *\n * @param version The CKEditor version (semantic version or testing version).\n * @returns The supported license version.\n */\nexport function getLicenseVersionFromEditorVersion( version: CKCdnVersion ): LicenseKeyVersion {\n\t// Assume that the testing version is always the newest one\n\t// so we can return the highest supported license version.\n\tif ( isCKCdnTestingVersion( version ) ) {\n\t\treturn 3;\n\t}\n\n\tconst { major } = destructureSemanticVersion( version );\n\n\tswitch ( true ) {\n\t\tcase major >= 44:\n\t\t\treturn 3;\n\n\t\tcase major >= 38:\n\t\t\treturn 2;\n\n\t\tdefault:\n\t\t\treturn 1;\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { BundleInstallationInfo } from './types.js';\n\nimport { isCKCdnVersion, type CKCdnVersion } from '../cdn/ck/isCKCdnVersion.js';\n\n/**\n * Returns information about the base CKEditor bundle installation.\n */\nexport function getCKBaseBundleInstallationInfo(): BundleInstallationInfo<CKCdnVersion> | null {\n\tconst { CKEDITOR_VERSION, CKEDITOR } = window;\n\n\tif ( !isCKCdnVersion( CKEDITOR_VERSION ) ) {\n\t\treturn null;\n\t}\n\n\t// Global `CKEDITOR` is set only in CDN builds.\n\treturn {\n\t\tsource: CKEDITOR ? 'cdn' : 'npm',\n\t\tversion: CKEDITOR_VERSION\n\t};\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { getLicenseVersionFromEditorVersion } from '../license/getLicenseVersionFromEditorVersion.js';\nimport type { LicenseKeyVersion } from '../license/LicenseKey.js';\n\nimport { getCKBaseBundleInstallationInfo } from './getCKBaseBundleInstallationInfo.js';\n\n/**\n * Returns information about the installed CKEditor version and the supported license version.\n *\n * @returns The supported license version or `null` if the CKEditor version is unknown.\n */\nexport function getSupportedLicenseVersionInstallationInfo(): LicenseKeyVersion | null {\n\tconst installationInfo = getCKBaseBundleInstallationInfo();\n\n\t// It looks like unknown version of Ckeditor is installed, so we can't determine the license version.\n\tif ( !installationInfo ) {\n\t\treturn null;\n\t}\n\n\treturn getLicenseVersionFromEditorVersion( installationInfo.version );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { getSupportedLicenseVersionInstallationInfo } from '../installation-info/getSupportedLicenseVersionInstallationInfo.js';\nimport { expectType } from '../types/expectType.js';\n\nimport type { LicenseKey, LicenseKeyVersion } from './LicenseKey.js';\n\n/**\n * Checks if passed license key is a free CKEditor license key.\n *\n * @param licenseKey The license key to check.\n * @param licenseVersion The version of the license key.\n * @returns `true` if the license key is free, `false` otherwise.\n */\nexport function isCKEditorFreeLicense( licenseKey: LicenseKey, licenseVersion?: LicenseKeyVersion ): boolean {\n\t// Pick the license version from the installation info if it's not provided.\n\t// Version should be present somewhere in the window object.\n\tlicenseVersion ||= getSupportedLicenseVersionInstallationInfo() || undefined;\n\n\tswitch ( licenseVersion ) {\n\t\tcase 1:\n\t\tcase 2:\n\t\t\treturn licenseKey === undefined;\n\n\t\tcase 3:\n\t\t\treturn licenseKey === 'GPL';\n\n\t\tdefault: {\n\t\t\texpectType<undefined>( licenseVersion );\n\n\t\t\treturn false;\n\t\t}\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { Editor, PluginConstructor } from 'ckeditor5';\nimport { isCKEditorFreeLicense } from '../license/isCKEditorFreeLicense.js';\n\n/**\n * Creates a plugin that collects usage data for a specific integration.\n *\n * This part of the code is not executed in open-source implementations using a GPL key.\n * It only runs when a specific license key is provided. If you are uncertain whether\n * this applies to your installation, please contact our support team.\n *\n * @param integrationName The name of the integration.\n * @param usageData The usage data for the integration.\n * @returns The plugin that collects the usage data.\n * @example\n * ```ts\n * import { createUsageDataPlugin } from './usage-data.plugin';\n *\n * const integrationUsageDataPlugin = createUsageDataPlugin( 'react', {\n * \tversion: '1.0.0',\n * \tframeworkVersion: '17.0.0'\n * } );\n *\n * const editor = ClassicEditor.create( document.querySelector( '#editor' ), {\n * \tplugins: [ integrationUsageDataPlugin ]\n * } );\n * ```\n */\nexport function createIntegrationUsageDataPlugin(\n\tintegrationName: string,\n\tusageData: IntegrationUsageData\n): IntegrationUsageDataPlugin {\n\treturn function IntegrationUsageDataPlugin( editor: Editor ) {\n\t\t/**\n\t\t * Do not collect usage data for integrations when using a free CKEditor license.\n\t\t */\n\t\tif ( isCKEditorFreeLicense( editor.config.get( 'licenseKey' ) ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\teditor.on<IntegrationCollectUsageDataEvent>( 'collectUsageData', ( source, { setUsageData } ) => {\n\t\t\tsetUsageData( `integration.${ integrationName }`, usageData );\n\t\t} );\n\t} satisfies PluginConstructor;\n}\n\n/**\n * The plugin collects usage data for an integration.\n */\nexport type IntegrationUsageDataPlugin = ( editor: Editor ) => void;\n\n/**\n * The usage data for an integration.\n */\ntype IntegrationUsageData = {\n\n\t/**\n\t * The version of the integration.\n\t */\n\tversion: string;\n\n\t/**\n\t * The version of the framework that the integration is using.\n\t */\n\tframeworkVersion?: string;\n};\n\n/**\n * The event fires when the editor collects usage data for integrations.\n * The editor should fire it after the `ready` event so the integrations can provide their usage data.\n */\ntype IntegrationCollectUsageDataEvent = {\n\tname: 'collectUsageData';\n\targs: [\n\t\t{\n\t\t\tsetUsageData( path: `integration.${ string }`, value: IntegrationUsageData ): void;\n\t\t}\n\t];\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { CKCdnVersion } from './isCKCdnVersion.js';\n\n/**\n * The URL of the CKEditor CDN.\n */\nexport const CK_CDN_URL = 'https://cdn.ckeditor.com';\n\n/**\n * Creates a URL to a file on the CKEditor CDN.\n *\n * @param bundle The name of the bundle.\n * @param file The name of the file.\n * @param version The version of the file.\n * @returns A function that accepts the version of the file and returns the URL.\n *\n * ```ts\n * const url = createCKCdnUrl( 'classic', 'ckeditor.js', '27.0.0' );\n *\n * expect( url ).to.be.equal( 'https://cdn.ckeditor.com/classic/27.0.0/ckeditor.js' );\n * ```\n */\nexport function createCKCdnUrl( bundle: string, file: string, version: CKCdnVersion ): string {\n\treturn `${ CK_CDN_URL }/${ bundle }/${ version }/${ file }`;\n}\n\n/**\n * A function that creates a URL to a file on the CKEditor CDN.\n */\nexport type CKCdnUrlCreator = typeof createCKCdnUrl;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { SemanticVersion } from '../../utils/version/isSemanticVersion.js';\n\n/**\n * The URL of the CKBox CDN.\n */\nexport const CKBOX_CDN_URL = 'https://cdn.ckbox.io';\n\n/**\n * A version of a file on the CKBox CDN.\n */\nexport type CKBoxCdnVersion = SemanticVersion;\n\n/**\n * Creates a URL to a file on the CKBox CDN.\n *\n * @param bundle The name of the bundle.\n * @param file The name of the file.\n * @param version The version of the file.\n * @returns A function that accepts the version of the file and returns the URL.\n *\n * ```ts\n * const url = createCKBoxCdnUrl( 'ckbox', 'ckbox.js', '2.5.1' );\n *\n * expect( url ).to.be.equal( 'https://cdn.ckbox.io/ckbox/2.5.1/ckbox.js' );\n * ```\n */\nexport function createCKBoxCdnUrl( bundle: string, file: string, version: CKBoxCdnVersion ): string {\n\treturn `${ CKBOX_CDN_URL }/${ bundle }/${ version }/${ file }`;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { SemanticVersion } from '../utils/version/isSemanticVersion.js';\n\nexport const CK_DOCS_URL = 'https://ckeditor.com/docs/ckeditor5';\n\n/**\n * Creates a URL to a file on the CKEditor documentation.\n */\nexport function createCKDocsUrl( path: string, version: SemanticVersion | 'latest' = 'latest' ): string {\n\treturn `${ CK_DOCS_URL }/${ version }/${ path }`;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { CKCdnResourcesAdvancedPack } from '../../cdn/utils/loadCKCdnResourcesPack.js';\n\nimport { waitForWindowEntry } from '../../utils/waitForWindowEntry.js';\nimport { injectScriptsInParallel } from '../../utils/injectScript.js';\nimport { without } from '../../utils/without.js';\n\nimport { getCKBaseBundleInstallationInfo } from '../../installation-info/getCKBaseBundleInstallationInfo.js';\nimport { createCKDocsUrl } from '../../docs/createCKDocsUrl.js';\n\nimport { createCKCdnUrl, type CKCdnUrlCreator } from './createCKCdnUrl.js';\nimport type { CKCdnVersion } from './isCKCdnVersion.js';\n\nimport './globals.js';\n\n/**\n * Creates a pack of resources for the base CKEditor bundle.\n *\n * @param config The configuration of the CKEditor Premium Features pack.\n * @returns A pack of resources for  the base CKEditor bundle.\n * @example\n *\n * ```ts\n * const { Paragraph } = await loadCKCdnResourcesPack(\n * \tcreateCKCdnBaseBundlePack( {\n * \t\tversion: '44.0.0',\n * \t\ttranslations: [ 'es', 'de' ]\n * \t} )\n * );\n * ```\n */\nexport function createCKCdnBaseBundlePack(\n\t{\n\t\tversion,\n\t\ttranslations,\n\t\tcreateCustomCdnUrl = createCKCdnUrl\n\t}: CKCdnBaseBundlePackConfig\n): CKCdnResourcesAdvancedPack<Window['CKEDITOR']> {\n\tconst urls = {\n\t\tscripts: [\n\t\t\t// Load the main script of the base features.\n\t\t\tcreateCustomCdnUrl( 'ckeditor5', 'ckeditor5.umd.js', version ),\n\n\t\t\t// Load all JavaScript files from the base features.\n\t\t\t// EN bundle is prebuilt into the main script, so we don't need to load it separately.\n\t\t\t...without( [ 'en' ], translations || [] ).map( translation =>\n\t\t\t\tcreateCustomCdnUrl( 'ckeditor5', `translations/${ translation }.umd.js`, version )\n\t\t\t)\n\t\t],\n\n\t\tstylesheets: [\n\t\t\tcreateCustomCdnUrl( 'ckeditor5', 'ckeditor5.css', version )\n\t\t]\n\t};\n\n\treturn {\n\t\t// Preload resources specified in the pack, before loading the main script.\n\t\tpreload: [\n\t\t\t...urls.stylesheets,\n\t\t\t...urls.scripts\n\t\t],\n\n\t\tscripts: [\n\t\t\t// It's safe to load translations and the main script in parallel.\n\t\t\tasync attributes => injectScriptsInParallel( urls.scripts, attributes )\n\t\t],\n\n\t\t// Load all stylesheets of the base features.\n\t\tstylesheets: urls.stylesheets,\n\n\t\t// Pick the exported global variables from the window object.\n\t\tcheckPluginLoaded: async () =>\n\t\t\twaitForWindowEntry( [ 'CKEDITOR' ] ),\n\n\t\t// Check if the CKEditor base bundle is already loaded and throw an error if it is.\n\t\tbeforeInject: () => {\n\t\t\tconst installationInfo = getCKBaseBundleInstallationInfo();\n\n\t\t\tswitch ( installationInfo?.source ) {\n\t\t\t\tcase 'npm':\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'CKEditor 5 is already loaded from npm. Check the migration guide for more details: ' +\n\t\t\t\t\t\tcreateCKDocsUrl( 'updating/migration-to-cdn/vanilla-js.html' )\n\t\t\t\t\t);\n\n\t\t\t\tcase 'cdn':\n\t\t\t\t\tif ( installationInfo.version !== version ) {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`CKEditor 5 is already loaded from CDN in version ${ installationInfo.version }. ` +\n\t\t\t\t\t\t\t`Remove the old <script> and <link> tags loading CKEditor 5 to allow loading the ${ version } version.`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * Configuration of the base CKEditor bundle pack.\n */\nexport type CKCdnBaseBundlePackConfig = {\n\n\t/**\n\t * The version of  the base CKEditor bundle.\n\t */\n\tversion: CKCdnVersion;\n\n\t/**\n\t * The list of translations to load.\n\t */\n\ttranslations?: Array<string>;\n\n\t/**\n\t * The function that creates custom CDN URLs.\n\t */\n\tcreateCustomCdnUrl?: CKCdnUrlCreator;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { CKCdnResourcesAdvancedPack } from '../../cdn/utils/loadCKCdnResourcesPack.js';\nimport type { CKCdnBaseBundlePackConfig } from './createCKCdnBaseBundlePack.js';\n\nimport { waitForWindowEntry } from '../../utils/waitForWindowEntry.js';\nimport { injectScriptsInParallel } from '../../utils/injectScript.js';\nimport { without } from '../../utils/without.js';\n\nimport { createCKCdnUrl } from './createCKCdnUrl.js';\n\n/**\n * Creates a pack of resources for the CKEditor Premium Features.\n *\n * @param config The configuration of the CKEditor Premium Features pack.\n * @returns A pack of resources for the CKEditor Premium Features.\n * @example\n *\n * ```ts\n * const { SlashCommand } = await loadCKCdnResourcesPack(\n * \tcreateCKCdnPremiumBundlePack( {\n * \t\tversion: '44.0.0',\n * \t\ttranslations: [ 'es', 'de' ]\n * \t} )\n * );\n * ```\n */\nexport function createCKCdnPremiumBundlePack(\n\t{\n\t\tversion,\n\t\ttranslations,\n\t\tcreateCustomCdnUrl = createCKCdnUrl\n\t}: CKCdnPremiumBundlePackConfig\n): CKCdnResourcesAdvancedPack<Window['CKEDITOR_PREMIUM_FEATURES']> {\n\tconst urls = {\n\t\tscripts: [\n\t\t\t// Load the main script of the premium features.\n\t\t\tcreateCustomCdnUrl( 'ckeditor5-premium-features', 'ckeditor5-premium-features.umd.js', version ),\n\n\t\t\t// Load all JavaScript files from the premium features.\n\t\t\t// EN bundle is prebuilt into the main script, so we don't need to load it separately.\n\t\t\t...without( [ 'en' ], translations || [] ).map( translation =>\n\t\t\t\tcreateCustomCdnUrl( 'ckeditor5-premium-features', `translations/${ translation }.umd.js`, version )\n\t\t\t)\n\t\t],\n\n\t\tstylesheets: [\n\t\t\tcreateCustomCdnUrl( 'ckeditor5-premium-features', 'ckeditor5-premium-features.css', version )\n\t\t]\n\t};\n\n\treturn {\n\t\t// Preload resources specified in the pack, before loading the main script.\n\t\tpreload: [\n\t\t\t...urls.stylesheets,\n\t\t\t...urls.scripts\n\t\t],\n\n\t\tscripts: [\n\t\t\t// It's safe to load translations and the main script in parallel.\n\t\t\tasync attributes => injectScriptsInParallel( urls.scripts, attributes )\n\t\t],\n\n\t\t// Load all stylesheets of the premium features.\n\t\tstylesheets: urls.stylesheets,\n\n\t\t// Pick the exported global variables from the window object.\n\t\tcheckPluginLoaded: async () =>\n\t\t\twaitForWindowEntry( [ 'CKEDITOR_PREMIUM_FEATURES' ] )\n\t};\n}\n\n/**\n * Configuration of the CKEditor Premium Features pack.\n */\nexport type CKCdnPremiumBundlePackConfig = Pick<\n\tCKCdnBaseBundlePackConfig,\n\t'translations' | 'version' | 'createCustomCdnUrl'\n>;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { Awaitable } from '../../types/Awaitable.js';\n\nimport { injectScript, type InjectScriptProps } from '../../utils/injectScript.js';\nimport { injectStylesheet } from '../../utils/injectStylesheet.js';\nimport { preloadResource } from '../../utils/preloadResource.js';\nimport { uniq } from '../../utils/uniq.js';\n\n/**\n * Loads pack of resources (scripts and stylesheets) and returns the exported global variables (if any).\n *\n * @param pack The pack of resources to load.\n * @returns A promise that resolves with the exported global variables.\n * @example\n *\n * ```ts\n * const ckeditor = await loadCKCdnResourcesPack<ClassicEditor>( {\n * \tscripts: [\n * \t\t'https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js'\n * \t],\n * \tcheckPluginLoaded: () => ( window as any ).ClassicEditor\n * } );\n * ```\n */\nexport async function loadCKCdnResourcesPack<P extends CKCdnResourcesPack<any>>( pack: P ): Promise<InferCKCdnResourcesPackExportsType<P>> {\n\tlet {\n\t\thtmlAttributes = {},\n\t\tscripts = [],\n\t\tstylesheets = [],\n\t\tpreload,\n\t\tbeforeInject,\n\t\tcheckPluginLoaded\n\t} = normalizeCKCdnResourcesPack( pack );\n\n\t// Execute the `beforeInject` callback if defined. It checks if the resources are already loaded.\n\tbeforeInject?.();\n\n\t// If preload is not defined, use all stylesheets and scripts as preload resources.\n\tif ( !preload ) {\n\t\tpreload = uniq( [\n\t\t\t...stylesheets.filter( item => typeof item === 'string' ),\n\t\t\t...scripts.filter( item => typeof item === 'string' )\n\t\t] );\n\t}\n\n\t// Preload resources specified in the pack.\n\tfor ( const url of preload ) {\n\t\tpreloadResource( url, {\n\t\t\tattributes: htmlAttributes\n\t\t} );\n\t}\n\n\t// Load stylesheet tags before scripts to avoid a flash of unstyled content.\n\tawait Promise.all(\n\t\tuniq( stylesheets ).map( href => injectStylesheet( {\n\t\t\thref,\n\t\t\tattributes: htmlAttributes,\n\t\t\tplacementInHead: 'start'\n\t\t} ) )\n\t);\n\n\t// Load script tags.\n\tfor ( const script of uniq( scripts ) ) {\n\t\tconst injectorProps: InjectScriptProps = {\n\t\t\tattributes: htmlAttributes\n\t\t};\n\n\t\tif ( typeof script === 'string' ) {\n\t\t\tawait injectScript( script, injectorProps );\n\t\t} else {\n\t\t\tawait script( injectorProps );\n\t\t}\n\t}\n\n\t// Wait for execution all injected scripts.\n\treturn checkPluginLoaded?.();\n}\n\n/**\n * Normalizes the CKCdnResourcesPack configuration to the advanced format.\n *\n * @param pack The pack of resources to normalize.\n * @returns The normalized pack of resources.\n */\nexport function normalizeCKCdnResourcesPack<R = any>( pack: CKCdnResourcesPack<R> ): CKCdnResourcesAdvancedPack<R> {\n\t// Check if it is array of URLs, if so, convert it to the advanced format.\n\tif ( Array.isArray( pack ) ) {\n\t\treturn {\n\t\t\tscripts: pack.filter(\n\t\t\t\titem => typeof item === 'function' || item.endsWith( '.js' )\n\t\t\t),\n\n\t\t\tstylesheets: pack.filter(\n\t\t\t\titem => item.endsWith( '.css' )\n\t\t\t)\n\t\t};\n\t}\n\n\t// Check if it is a local import function, if so, convert it to the advanced format.\n\tif ( typeof pack === 'function' ) {\n\t\treturn {\n\t\t\tcheckPluginLoaded: pack\n\t\t};\n\t}\n\n\t// Return the pack as it is, because it's already in the advanced format.\n\treturn pack;\n}\n\n/**\n * A pack of resources to load (scripts and stylesheets) and the exported global variables.\n */\nexport type CKCdnResourcesPack<R = any> =\n\t| CKCdnResourcesAdvancedPack<R>\n\t| CKCdnResourcesBasicUrlsPack\n\t| CKCdnResourcesLocalPack<R>;\n\n/**\n * A pack of resources to load as an async function that results with UMD module.\n *\n * @example\n * ```ts\n * const pack = async () => import( './your-module' );\n * ```\n */\ntype CKCdnResourcesLocalPack<R> = () => Awaitable<R>;\n\n/**\n * A pack of resources to load (scripts and stylesheets). In such configuration, the exported global variable\n * might be available but it's not guaranteed.\n *\n * @example\n * ```ts\n * const pack = [\n * \t'https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js'\n * ];\n * ```\n */\ntype CKCdnResourcesBasicUrlsPack = Array<string>;\n\n/**\n * A pack of resources to load (scripts and stylesheets) and the exported global variables.\n *\n * @example\n * ```ts\n * const pack = {\n * \tscripts: [\n * \t\t'https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js'\n * \t],\n * \tcheckPluginLoaded: () => ( window as any ).ClassicEditor\n * };\n * ```\n */\nexport type CKCdnResourcesAdvancedPack<R> = {\n\n\t/**\n\t * List of resources to preload, it should improve the performance of loading the resources.\n\t */\n\tpreload?: Array<string>;\n\n\t/**\n\t * List of scripts to load. Scripts are loaded in the order they are defined.\n\t */\n\tscripts?: Array<string | CKCdnScriptInjectorCallback>;\n\n\t/**\n\t * List of stylesheets to load. Stylesheets are loaded in the order they are defined.\n\t */\n\tstylesheets?: Array<string>;\n\n\t/**\n\t * Map of attributes to add to the script, stylesheet and link tags.\n\t * It can be used to specify `crossorigin` or `nonce` attributes on the injected HTML elements.\n\t */\n\thtmlAttributes?: Record<string, any>;\n\n\t/**\n\t * Callback that is executed before injecting the resources. It can be used to verify if the resources are already loaded.\n\t */\n\tbeforeInject?: () => void;\n\n\t/**\n\t * Get JS object with global variables exported by scripts.\n\t */\n\tcheckPluginLoaded?: () => Awaitable<R>;\n};\n\n/**\n * Callback that injects a script tag into the document.\n */\ntype CKCdnScriptInjectorCallback = ( props: InjectScriptProps ) => Awaitable<unknown> ;\n\n/**\n * Extracts the type of the exported global variables from a CKResourcesPack.\n */\nexport type InferCKCdnResourcesPackExportsType<P> = P extends CKCdnResourcesPack<infer R> ? R : never;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { filterBlankObjectValues } from '../../utils/filterBlankObjectValues.js';\nimport { mapObjectValues } from '../../utils/mapObjectValues.js';\n\nimport {\n\tnormalizeCKCdnResourcesPack,\n\ttype CKCdnResourcesPack,\n\ttype InferCKCdnResourcesPackExportsType,\n\ttype CKCdnResourcesAdvancedPack\n} from './loadCKCdnResourcesPack.js';\n\n/**\n * Combines multiple CKEditor CDN bundles packs into a single pack.\n *\n * @param packs A map of CKEditor CDN bundles packs.\n * @returns A combined pack of resources for multiple CKEditor CDN bundles.\n * @example\n *\n * ```ts\n * const { Base, Premium } = await loadCKCdnResourcesPack(\n * \tcombineCKCdnBundlesPacks( {\n * \t\tBase: createCKCdnBaseBundlePack( {\n * \t\t\tversion: '44.0.0',\n * \t\t\ttranslations: [ 'es', 'de' ]\n * \t\t} ),\n * \t\tPremium: createCKCdnPremiumBundlePack( {\n * \t\t\tversion: '44.0.0',\n * \t\t\ttranslations: [ 'es', 'de' ]\n * \t\t} )\n * \t} )\n * );\n * ```\n */\nexport function combineCKCdnBundlesPacks<P extends CKCdnBundlesPacks>( packs: P ): CKCdnCombinedBundlePack<P> {\n\tconst normalizedPacks = mapObjectValues(\n\t\tfilterBlankObjectValues( packs ),\n\t\tnormalizeCKCdnResourcesPack\n\t);\n\n\t// Merge all scripts, stylesheets and preload resources from all packs.\n\tconst mergedPacks = Object\n\t\t.values( normalizedPacks )\n\t\t.reduce(\n\t\t\t( acc, pack ) => {\n\t\t\t\tacc.scripts!.push( ...( pack.scripts ?? [] ) );\n\t\t\t\tacc.stylesheets!.push( ...( pack.stylesheets ?? [] ) );\n\t\t\t\tacc.preload!.push( ...( pack.preload ?? [] ) );\n\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\tpreload: [],\n\t\t\t\tscripts: [],\n\t\t\t\tstylesheets: []\n\t\t\t}\n\t\t);\n\n\t// Get exported entries from all packs.\n\tconst checkPluginLoaded = async () => {\n\t\t// Use Object.create() to create an object without a prototype to avoid prototype pollution.\n\t\tconst exportedGlobalVariables: Record<string, unknown> = Object.create( null );\n\n\t\t// It can be done sequentially because scripts *should* be loaded at this point and the whole execution should be quite fast.\n\t\tfor ( const [ name, pack ] of Object.entries( normalizedPacks ) ) {\n\t\t\texportedGlobalVariables[ name ] = await pack?.checkPluginLoaded?.();\n\t\t}\n\n\t\treturn exportedGlobalVariables as any;\n\t};\n\n\t// Call beforeInject method of all packs.\n\tconst beforeInject = () => {\n\t\tfor ( const pack of Object.values( normalizedPacks ) ) {\n\t\t\tpack.beforeInject?.();\n\t\t}\n\t};\n\n\treturn {\n\t\t...mergedPacks,\n\t\tbeforeInject,\n\t\tcheckPluginLoaded\n\t};\n}\n\n/**\n * A map of CKEditor CDN bundles packs.\n */\nexport type CKCdnBundlesPacks = Record<string, CKCdnResourcesPack<any> | undefined>;\n\n/**\n * A combined pack of resources for multiple CKEditor CDN bundles.\n */\nexport type CKCdnCombinedBundlePack<P extends CKCdnBundlesPacks> = CKCdnResourcesAdvancedPack<{\n\t[ K in keyof P ]: InferCKCdnResourcesPackExportsType<P[K]>\n}>;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { BundleInstallationInfo } from './types.js';\n\nimport { isSemanticVersion } from '../utils/version/isSemanticVersion.js';\n\n/**\n * Returns information about the CKBox installation.\n */\nexport function getCKBoxInstallationInfo(): BundleInstallationInfo | null {\n\tconst version = window.CKBox?.version;\n\n\tif ( !isSemanticVersion( version ) ) {\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tsource: 'cdn',\n\t\tversion\n\t};\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { waitForWindowEntry } from '../../utils/waitForWindowEntry.js';\nimport { without } from '../../utils/without.js';\nimport { getCKBoxInstallationInfo } from '../../installation-info/getCKBoxInstallationInfo.js';\n\nimport type { CKCdnResourcesAdvancedPack } from '../../cdn/utils/loadCKCdnResourcesPack.js';\nimport { createCKBoxCdnUrl, type CKBoxCdnVersion } from './createCKBoxCdnUrl.js';\n\nimport './globals.js';\n\n/**\n * Creates a pack of resources for the base CKBox bundle.\n *\n * @param config The configuration of the CKBox bundle pack.\n * @returns A pack of resources for the base CKBox bundle.\n * @example\n * ```ts\n * const { CKBox } = await loadCKCdnResourcesPack(\n * \tcreateCKBoxCdnBundlePack( {\n * \t\tversion: '2.5.1',\n * \t\ttheme: 'lark'\n * \t} )\n * );\n * ```\n */\nexport function createCKBoxBundlePack(\n\t{\n\t\tversion,\n\t\ttheme = 'lark',\n\t\ttranslations,\n\t\tcreateCustomCdnUrl = createCKBoxCdnUrl\n\t}: CKBoxCdnBundlePackConfig\n): CKCdnResourcesAdvancedPack<Window['CKBox']> {\n\treturn {\n\t\t// Load the main script of the base features.\n\t\tscripts: [\n\t\t\tcreateCustomCdnUrl( 'ckbox', 'ckbox.js', version ),\n\n\t\t\t// EN bundle is prebuilt into the main script, so we don't need to load it separately.\n\t\t\t...without( [ 'en' ], translations || [] ).map( translation =>\n\t\t\t\tcreateCustomCdnUrl( 'ckbox', `translations/${ translation }.js`, version )\n\t\t\t)\n\t\t],\n\n\t\t// Load optional theme, if provided. It's not required but recommended because it improves the look and feel.\n\t\t...theme && {\n\t\t\tstylesheets: [\n\t\t\t\tcreateCustomCdnUrl( 'ckbox', `styles/themes/${ theme }.css`, version )\n\t\t\t]\n\t\t},\n\n\t\t// Pick the exported global variables from the window object.\n\t\tcheckPluginLoaded: async () =>\n\t\t\twaitForWindowEntry( [ 'CKBox' ] ),\n\n\t\t// Check if the CKBox bundle is already loaded and throw an error if it is.\n\t\tbeforeInject: () => {\n\t\t\tconst installationInfo = getCKBoxInstallationInfo();\n\n\t\t\tif ( installationInfo && installationInfo.version !== version ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`CKBox is already loaded from CDN in version ${ installationInfo.version }. ` +\n\t\t\t\t\t`Remove the old <script> and <link> tags loading CKBox to allow loading the ${ version } version.`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * Configuration of the base CKEditor bundle pack.\n */\nexport type CKBoxCdnBundlePackConfig = {\n\n\t/**\n\t * The version of  the base CKEditor bundle.\n\t */\n\tversion: CKBoxCdnVersion;\n\n\t/**\n\t * The list of translations to load.\n\t */\n\ttranslations?: Array<string>;\n\n\t/**\n\t * The theme of the CKBox bundle. Default is 'lark'.\n\t */\n\ttheme?: string | null;\n\n\t/**\n\t * Function that creates a custom URL for the CKBox bundle.\n\t */\n\tcreateCustomCdnUrl?: typeof createCKBoxCdnUrl;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { destructureSemanticVersion } from '../utils/version/destructureSemanticVersion.js';\nimport { isCKCdnTestingVersion, type CKCdnVersion } from '../cdn/ck/isCKCdnVersion.js';\nimport { getLicenseVersionFromEditorVersion } from './getLicenseVersionFromEditorVersion.js';\n\n/**\n * Checks if the CKEditor CDN is supported by the given editor version.\n *\n * @param version The CKEditor version.\n * @returns `true` if the CDN is supported, `false` otherwise.\n */\nexport function isCKCdnSupportedByEditorVersion( version: CKCdnVersion ): boolean {\n\tif ( isCKCdnTestingVersion( version ) ) {\n\t\treturn true;\n\t}\n\n\tconst { major } = destructureSemanticVersion( version );\n\tconst licenseVersion = getLicenseVersionFromEditorVersion( version );\n\n\tswitch ( licenseVersion ) {\n\t\t// For newer license versions, we support all newer versions.\n\t\tcase 3:\n\t\t\treturn true;\n\n\t\t// For the license v1-v2, we support only the 43 version.\n\t\tdefault:\n\t\t\treturn major === 43;\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { mapObjectValues } from '../../utils/mapObjectValues.js';\nimport { waitForWindowEntry } from '../../utils/waitForWindowEntry.js';\n\nimport {\n\tnormalizeCKCdnResourcesPack,\n\ttype InferCKCdnResourcesPackExportsType,\n\ttype CKCdnResourcesAdvancedPack\n} from '../utils/loadCKCdnResourcesPack.js';\n\nimport {\n\tcombineCKCdnBundlesPacks,\n\ttype CKCdnBundlesPacks\n} from '../utils/combineCKCdnBundlesPacks.js';\n\n/**\n * This function is similar to `combineCKCdnBundlesPacks` but it provides global scope\n * fallback for the plugins that do not define the type of the exported entries. In other\n * words if the plugin `Reader` does not define the type of the exported entries, the type\n * will be picked from the `Window[ 'Reader' ]` object.\n *\n * @param pluginsPacks A map of CKEditor plugins packs.\n * @returns A combined pack of resources for multiple CKEditor plugins.\n * @example\n *\n * ```ts\n * const { ScreenReader, AccessibilityChecker } = await loadCKCdnResourcesPack(\n * \tcombineCdnPluginsPacks( {\n * \t\tScreenReader: [ 'https://example.org/screen-reader.js' ],\n * \t\tAccessibilityChecker: [ 'https://example.org/accessibility-checker.js' ]\n * \t} )\n * );\n * ```\n *\n * In example above, `ScreenReader` and `AccessibilityChecker` are the plugins names and\n * the type of the exported entries will be picked from the global (Window) scope.\n */\nexport function combineCdnPluginsPacks<Plugins extends CdnPluginsPacks>(\n\tpluginsPacks: Plugins\n): CombinedPluginsPackWithFallbackScope<Plugins> {\n\tconst normalizedPluginsPacks = mapObjectValues( pluginsPacks, ( pluginPack, pluginName ) => {\n\t\tif ( !pluginPack ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst normalizedPluginPack = normalizeCKCdnResourcesPack( pluginPack );\n\n\t\treturn {\n\t\t\t// Provide default window accessor object if the plugin pack does not define it.\n\t\t\tcheckPluginLoaded: async (): Promise<unknown> =>\n\t\t\t\twaitForWindowEntry( [ pluginName as any ] ),\n\n\t\t\t// Transform the plugin pack to a normalized advanced pack.\n\t\t\t...normalizedPluginPack\n\t\t};\n\t} );\n\n\t// Merge all scripts, stylesheets and preload resources from all packs.\n\treturn combineCKCdnBundlesPacks(\n\t\tnormalizedPluginsPacks\n\t) as CombinedPluginsPackWithFallbackScope<Plugins>;\n}\n\n/**\n * A map of CKEditor plugins packs.\n */\nexport type CdnPluginsPacks = CKCdnBundlesPacks;\n\n/**\n * A combined pack of plugins. It picks the type of the plugin from the global scope if\n * `CKCdnCombinedBundlePack` does not define it in the `checkPluginLoaded` method.\n */\nexport type CombinedPluginsPackWithFallbackScope<P extends CdnPluginsPacks> = CKCdnResourcesAdvancedPack<{\n\t[ K in keyof P ]: FallbackIfUnknown<\n\t\tInferCKCdnResourcesPackExportsType<P[K]>,\n\t\tK extends keyof Window ? Window[ K ] : unknown\n\t>;\n}>;\n\n/**\n * Returns the fallback type if the provided type is unknown.\n */\ntype FallbackIfUnknown<T, Fallback> = unknown extends T ? Fallback : T;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { createCKCdnBaseBundlePack } from './ck/createCKCdnBaseBundlePack.js';\nimport { createCKCdnPremiumBundlePack } from './ck/createCKCdnPremiumBundlePack.js';\n\nimport { combineCKCdnBundlesPacks } from './utils/combineCKCdnBundlesPacks.js';\nimport {\n\tcreateCKBoxBundlePack,\n\ttype CKBoxCdnBundlePackConfig\n} from './ckbox/createCKBoxCdnBundlePack.js';\n\nimport type { CKCdnUrlCreator } from './ck/createCKCdnUrl.js';\nimport type { ConditionalBlank } from '../types/ConditionalBlank.js';\n\nimport { isCKCdnSupportedByEditorVersion } from '../license/isCKCdnSupportedByEditorVersion.js';\nimport { isCKCdnTestingVersion, type CKCdnVersion } from './ck/isCKCdnVersion.js';\n\nimport {\n\tloadCKCdnResourcesPack,\n\ttype InferCKCdnResourcesPackExportsType\n} from './utils/loadCKCdnResourcesPack.js';\n\nimport {\n\tcombineCdnPluginsPacks,\n\ttype CombinedPluginsPackWithFallbackScope,\n\ttype CdnPluginsPacks\n} from './plugins/combineCdnPluginsPacks.js';\n\n/**\n * A composable function that loads CKEditor Cloud Services bundles.\n * It returns the exports of the loaded bundles.\n *\n * @param config The configuration of the CKEditor Cloud Services bundles to load.\n * @returns The result of the loaded CKEditor Cloud Services bundles.\n * @example\n *\n * Example of loading CKEditor Cloud Services with the premium features and CKBox:\n *\n * ```ts\n * const { CKEditor, CKEditorPremiumFeatures } = await loadCKEditorCloud( {\n * \tversion: '44.0.0',\n * \ttranslations: [ 'es', 'de' ],\n * \tpremium: true\n * } );\n *\n * const { Paragraph } = CKEditor;\n * const { SlashCommands } = CKEditorPremiumFeatures;\n * ```\n *\n * Example of loading CKEditor Cloud Services with custom plugins:\n *\n * ```ts\n * const { CKEditor, loadedPlugins } = await loadCKEditorCloud( {\n * \tversion: '44.0.0',\n * \tplugins: {\n * \t\tPlugin1: async () => import( './your-local-import.umd.js' ),\n * \t\tPlugin2: [\n * \t\t\t'https://cdn.example.com/plugin2.js',\n * \t\t\t'https://cdn.example.com/plugin2.css'\n * \t\t],\n * \t\tPlugin3: {\n * \t\t\tscripts: [ 'https://cdn.example.com/plugin3.js' ],\n * \t\t\tstylesheets: [ 'https://cdn.example.com/plugin3.css' ],\n *\n * \t\t\t// Optional, if it's not passed then the type of `Plugin3` will be picked from `Window`\n * \t\t\tcheckPluginLoaded: () => ( window as any ).Plugin3\n * \t\t}\n * \t}\n * } );\n * ```\n *\n * Type of plugins can be inferred if `checkPluginLoaded` is not provided: In this case,\n * the type of the plugin will be picked from the global window scope.\n */\nexport function loadCKEditorCloud<Config extends CKEditorCloudConfig>(\n\tconfig: Config\n): Promise<CKEditorCloudResult<Config>> {\n\tconst {\n\t\tversion, translations, plugins,\n\t\tpremium, ckbox, createCustomCdnUrl,\n\t\tinjectedHtmlElementsAttributes = {\n\t\t\tcrossorigin: 'anonymous'\n\t\t}\n\t} = config;\n\n\tvalidateCKEditorVersion( version );\n\n\tconst pack = combineCKCdnBundlesPacks( {\n\t\tCKEditor: createCKCdnBaseBundlePack( {\n\t\t\tversion,\n\t\t\ttranslations,\n\t\t\tcreateCustomCdnUrl\n\t\t} ),\n\n\t\t...premium && {\n\t\t\tCKEditorPremiumFeatures: createCKCdnPremiumBundlePack( {\n\t\t\t\tversion,\n\t\t\t\ttranslations,\n\t\t\t\tcreateCustomCdnUrl\n\t\t\t} )\n\t\t},\n\n\t\t...ckbox && {\n\t\t\tCKBox: createCKBoxBundlePack( ckbox )\n\t\t},\n\n\t\tloadedPlugins: combineCdnPluginsPacks( plugins ?? {} )\n\t} );\n\n\treturn loadCKCdnResourcesPack(\n\t\t{\n\t\t\t...pack,\n\t\t\thtmlAttributes: injectedHtmlElementsAttributes\n\t\t}\n\t) as Promise<CKEditorCloudResult<Config>>;\n}\n\n/**\n * Checks if the CKEditor Cloud Services support the given CKEditor 5 version.\n *\n * @param version The CKEditor version to validate.\n */\nfunction validateCKEditorVersion( version: CKCdnVersion ) {\n\tif ( isCKCdnTestingVersion( version ) ) {\n\t\tconsole.warn(\n\t\t\t'You are using a testing version of CKEditor 5. Please remember that it is not suitable for production environments.'\n\t\t);\n\t}\n\n\tif ( !isCKCdnSupportedByEditorVersion( version ) ) {\n\t\tthrow new Error(\n\t\t\t`The CKEditor 5 CDN can't be used with the given editor version: ${ version }. ` +\n\t\t\t'Please make sure you are using at least the CKEditor 5 version 44.'\n\t\t);\n\t}\n}\n\n/**\n * The result of the resolved bundles from CKEditor CDN.\n */\nexport type CKEditorCloudResult<Config extends CKEditorCloudConfig> = {\n\n\t/**\n\t * The base CKEditor bundle exports.\n\t */\n\tCKEditor: NonNullable<Window['CKEDITOR']>;\n\n\t/**\n\t * The CKBox bundle exports.\n\t * It's available only if the `ckbox` configuration is provided.\n\t */\n\tCKBox: ConditionalBlank<\n\t\tConfig['ckbox'],\n\t\tWindow['CKBox']\n\t>;\n\n\t/**\n\t * The CKEditor Premium Features bundle exports.\n\t * It's available only if the `premium` configuration is provided.\n\t */\n\tCKEditorPremiumFeatures: ConditionalBlank<\n\t\tConfig['premium'],\n\t\tWindow['CKEDITOR_PREMIUM_FEATURES']\n\t>;\n\n\t/**\n\t * The additional resources exports.\n\t */\n\tloadedPlugins: InferCKCdnResourcesPackExportsType<\n\t\tCombinedPluginsPackWithFallbackScope<NonNullable<Config['plugins']>>\n\t>;\n};\n\n/**\n * The configuration of the `useCKEditorCloud` hook.\n */\nexport type CKEditorCloudConfig<Plugins extends CdnPluginsPacks = CdnPluginsPacks> = {\n\n\t/**\n\t * The version of CKEditor Cloud Services to use.\n\t */\n\tversion: CKCdnVersion;\n\n\t/**\n\t * The translations to load.\n\t */\n\ttranslations?: Array<string>;\n\n\t/**\n\t * If `true` then the premium features will be loaded.\n\t */\n\tpremium?: boolean;\n\n\t/**\n\t * CKBox bundle configuration.\n\t */\n\tckbox?: CKBoxCdnBundlePackConfig;\n\n\t/**\n\t * Additional resources to load.\n\t */\n\tplugins?: Plugins;\n\n\t/**\n\t * Map of attributes to add to the script, stylesheet and link tags that are injected by the loader.\n\t */\n\tinjectedHtmlElementsAttributes?: Record<string, any>;\n\n\t/**\n\t * The function that creates custom CDN URLs.\n\t */\n\tcreateCustomCdnUrl?: CKCdnUrlCreator;\n};\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"debugId":null}},
    {"offset": {"line": 1274, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/lifecycle/LifeCycleElementSemaphore.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/context/setCKEditorReactContextMetadata.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useIsMountedRef.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useRefSafeCallback.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/context/useInitializedCKEditorsMap.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/context/ckeditorcontext.tsx","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/plugins/ReactIntegrationUsageDataPlugin.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/plugins/appendAllIntegrationPluginsToConfig.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/ckeditor.tsx","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/lifecycle/useLifeCycleSemaphoreSyncRef.tsx","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/utils/mergeRefs.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useInstantEffect.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useInstantEditorEffect.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/useMultiRootEditor.tsx","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useIsUnmountedRef.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useAsyncCallback.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/hooks/useAsyncValue.ts","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/cloud/useCKEditorCloud.tsx","file:///Users/Josip/Documents/dnd-notes-app/node_modules/%40ckeditor/ckeditor5-react/src/cloud/withCKEditorCloud.tsx"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { createDefer, once, type Defer } from '@ckeditor/ckeditor5-integrations-common';\n\n/**\n * This class is utilized to pause the initialization of an editor when another instance is already present on a specified element.\n * It is engineered to address the following issues:\n *\n *\t* Rapid changes in component properties often lead to the re-initialization of the editor, which can trigger\n *\t  the `editor-source-element-already-used` exception. This occurs because the editor is still in the process of initializing\n *\t  when the component decides to destroy it. This semaphore waits for the editor to fully initialize before destroying it, thereby\n *\t  allowing a new instance of the editor to be attached to the specified element.\n *\n *\t* Rapid mounting and unmounting in strict mode frequently results in the `editor-source-element-already-used` exception\n *\t  being thrown by the editor. This is due to React reusing the underlying DOM element during the mounting and unmounting of components\n *\t  (especially if the same component is being mounted and unmounted). Consequently, a race condition arises. The first render begins to\n *\t  attach the editor (in async mode), and shortly thereafter, it is destroyed and a new instance of the component is initialized.\n *\t  This semaphore, by utilizing a static semaphores promises map, retains information about whether the element is used by a previous\n *\t  instance of the editor and resumes execution when it is freed.\n *\n *\t* The process involves starting up many editors that are no longer needed and are immediately removed in the following rerenders.\n *\t  This can cause the editor’s initialization performance to slow down. The initialization of the editor is skipped when numerous\n *\t  rerenders occur within a short time-frame while using this semaphore. An example of this could be a situation with 4 rerenders\n *\t  occurring within a 10ms period. This semaphore will likely batch these calls, and instead of initializing 4 editors, only 2 will be\n *\t  initialized (the first and the last one).\n */\nexport class LifeCycleElementSemaphore<R> {\n\t/**\n\t * This is a map of elements associated with promises. It informs the semaphore that the underlying HTML element, used as a key,\n\t * is currently in use by another editor. Each element is assigned a promise, which allows for the easy chaining of new\n\t * editor instances on an element that is already in use by another instance. The process works as follows:\n\t *\n\t * \t1. If an element is being used by an editor, then the initialization of a new editor\n\t * \t   instance is chained using the `.then()` method of the Promise.\n\t *\n\t * \t2. If the editor associated with the underlying element is destroyed, then `Promise.resolve()` is called\n\t * \t   and the previously assigned `.then()` editor callback is executed.\n\t *\n\t *  @see {@link #lock} for more detailed information on the implementation.\n\t */\n\tprivate static readonly _semaphores = new Map<HTMLElement, Promise<void>>();\n\n\t/**\n\t * This should define async methods for initializing and destroying the editor.\n\t * Essentially, it's an async version of basic React lifecycle methods like `componentDidMount`, `componentWillUnmount`.\n\t *\n\t * \t* Result of {@link LifeCycleAsyncOperators#mount} method is passed to {@link LifeCycleAsyncOperators#unmount} as an argument.\n\t */\n\tprivate readonly _lifecycle: LifeCycleAsyncOperators<R>;\n\n\t/**\n\t * This is the element instance that the editor uses for mounting. This element should contain the `ckeditorInstance` member\n\t * once the editor has been successfully mounted to it. The semaphore ensures that a new instance of the editor, which will\n\t * be assigned to this element by the {@link #_lifecycle:mount} method, will always be initialized after the successful\n\t * destruction of the underlying `ckeditorInstance` that was previously mounted on this element.\n\t */\n\tprivate readonly _element: HTMLElement;\n\n\t/**\n\t * This is the lock mechanism utilized by the {@link #lock} and {@link #release} methods.\n\t *\n\t * \t* If the editor is not yet mounted and is awaiting mounting (for instance, when another editor is\n\t * \t  occupying the element), then it is null.\n\t *\n\t * \t* When the editor is mounted on the element, this variable holds an unresolved promise that will be\n\t * \t  resolved after the editor is destroyed.\n\t *\n\t * \t* Once the editor is destroyed (and it was previously mounted), the promise is resolved.\n\t */\n\tprivate _releaseLock: Defer<void> | null = null;\n\n\t/**\n\t * This is the result of the {@link #_lifecycle:mount} function. This value should be reset to `null`\n\t * once the semaphore is released. It is utilized to store certain data that must be removed following\n\t * the destruction of the editor. This data may include the editor's instance, the assigned watchdog,\n\t * or handles for additional window listeners.\n\t */\n\tprivate _value: R | null = null;\n\n\t/**\n\t * This is a list of callbacks that are triggered if the semaphore {@link #_lifecycle:mount} method executes successfully.\n\t * It is utilized in scenarios where we need to assign certain properties to an editor that is currently in the process of mounting.\n\t * An instance of such usage could be two-way binding. We aim to prevent the loss of all `setData` calls if the editor has not\n\t * yet been mounted, therefore these calls will be executed immediately following the completion of the mounting process.\n\t */\n\tprivate _afterMountCallbacks: Array<LifeCycleAfterMountCallback<R>> = [];\n\n\t/**\n\t * This represents the actual mounting state of the semaphore. It is primarily used by the {@link #release} method to\n\t * determine whether the initialization of the editor should be skipped or, if the editor is already initialized, the editor\n\t * should be destroyed.\n\t *\n\t * \t* If `destroyedBeforeInitialization` is true, then the {@link #release} method was invoked before the editor began to mount.\n\t * \t  This often occurs in strict mode when we assign a promise to the {@link LifeCycleEditorElementSemaphore#_semaphores} map\n\t * \t  and the assigned `mount` callback has not yet been called. In this scenario, it is safe to skip the initialization of the editor\n\t * \t  and simply release the semaphore.\n\t *\n\t *\t* If `mountingInProgress` is a Promise, then the {@link #release} method was invoked after the initialization of the editor and\n\t \t  the editor must be destroyed before the semaphore is released.\n\t*/\n\tprivate _state: LifeCycleState<R> = {\n\t\tdestroyedBeforeInitialization: false,\n\t\tmountingInProgress: null\n\t};\n\n\tconstructor( element: HTMLElement, lifecycle: LifeCycleAsyncOperators<R> ) {\n\t\tthis._element = element;\n\t\tthis._lifecycle = lifecycle;\n\t\tthis._lock();\n\t}\n\n\t/**\n\t * Getter for {@link #_value}.\n\t */\n\tpublic get value(): R | null {\n\t\treturn this._value;\n\t}\n\n\t/**\n\t * Resets the semaphore to its initial state.\n\t */\n\tpublic discard(): void {\n\t\tthis._value = null;\n\t\tthis._releaseLock = null;\n\t\tthis._afterMountCallbacks = [];\n\t\tthis._state = {\n\t\t\tdestroyedBeforeInitialization: false,\n\t\t\tmountingInProgress: null\n\t\t};\n\t}\n\n\t/**\n\t * Occasionally, the Watchdog restarts the editor instance, resulting in a new instance being assigned to the semaphore.\n\t * In terms of race conditions, it's generally safer to simply override the semaphore value rather than recreating it\n\t * with a different one.\n\t */\n\tpublic unsafeSetValue( value: R ): void {\n\t\tthis._value = value;\n\n\t\tthis._afterMountCallbacks.forEach( callback => {\n\t\t\t// Check if value is valid before executing callback.\n\t\t\tif ( this._lifecycle.isValueValid && !this._lifecycle.isValueValid( value ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcallback( value );\n\t\t} );\n\n\t\tthis._afterMountCallbacks = [];\n\t}\n\n\t/**\n\t * This registers a callback that will be triggered after the editor has been successfully mounted.\n\t *\n\t * \t* If the editor is already mounted, the callback will be executed immediately.\n\t *\t* If the editor is in the process of mounting, the callback will be executed upon successful mounting.\n\t* \t* If the editor is never mounted, the passed callback will not be executed.\n\t* \t* If an exception is thrown within the callback, it will be re-thrown in the semaphore.\n\t* \t* If the value is not valid (determined by isValueValid), the callback will not be executed.\n\t*/\n\tpublic runAfterMount( callback: LifeCycleAfterMountCallback<R> ): void {\n\t\tconst { _value, _afterMountCallbacks } = this;\n\n\t\tif ( _value ) {\n\t\t\t// Check if value is valid before executing callback.\n\t\t\tif ( this._lifecycle.isValueValid && !this._lifecycle.isValueValid( _value ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcallback( _value );\n\t\t} else {\n\t\t\t_afterMountCallbacks.push( callback );\n\t\t}\n\t}\n\n\t/**\n\t * This method is used to inform other components that the {@link #_element} will be used by the editor,\n\t * which is initialized by the {@link #_lifecycle} methods.\n\t *\n\t * \t* If an editor is already present on the provided element, the initialization of the current one\n\t * \t  will be postponed until the previous one is destroyed.\n\t *\n\t * \t* If the element is empty and does not have an editor attached to it, the currently locked editor will\n\t * \t  be mounted immediately.\n\t *\n\t * After the successful initialization of the editor and the assignment of the {@link #_value} member,\n\t * the `onReady` lifecycle method is called.\n\t *\n\t * *Important note:*\n\t *\n\t * It’s really important to keep this method *sync*. If we make this method *async*, it won’t work well because\n\t * it will cause problems when we’re trying to set up the {@link LifeCycleEditorElementSemaphore#_semaphores} map entries.\n\t */\n\tprivate _lock(): void {\n\t\tconst { _semaphores } = LifeCycleElementSemaphore;\n\t\tconst { _state, _element, _lifecycle } = this;\n\n\t\t// This promise signifies that the previous editor is still attached to the current element.\n\t\t// Upon successful resolution, it will indicate that it is safe to assume that the element has\n\t\t// no assigned editor instance and can be reinitialized.\n\t\tconst prevElementSemaphore = _semaphores.get( _element ) || Promise.resolve( null );\n\n\t\t// This is a lock that will be resolved after the `release` method is called. Due to this lock,\n\t\t// the promise will never be resolved until the editor is destroyed.\n\t\tconst releaseLock = createDefer();\n\t\tthis._releaseLock = releaseLock;\n\n\t\t// This is the initialization of the editor that occurs after the previous editor has been detached from the specified element.\n\t\t//\n\t\t// If the `release` method was called before the initialization of the current editor instance, then it will be skipped.\n\t\t// This situation occurs quite frequently when we have three or more rerenders in a row, and it doesn't make sense to initialize\n\t\t// the second editor because it will be overridden anyway by the third one.\n\t\tconst newElementSemaphore = prevElementSemaphore\n\t\t\t.then( () => {\n\t\t\t\tif ( _state.destroyedBeforeInitialization ) {\n\t\t\t\t\treturn Promise.resolve( undefined );\n\t\t\t\t}\n\n\t\t\t\t// This variable will be used later in the `release` method to determine\n\t\t\t\t// whether the editor is being destroyed prior to initialization.\n\t\t\t\t_state.mountingInProgress = _lifecycle.mount().then( mountResult => {\n\t\t\t\t\tif ( mountResult ) {\n\t\t\t\t\t\tthis.unsafeSetValue( mountResult );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn mountResult;\n\t\t\t\t} );\n\n\t\t\t\treturn _state.mountingInProgress;\n\t\t\t} )\n\t\t\t.then( async mountResult => {\n\t\t\t\t// Everything is fine, all ready callback might be fired here.\n\t\t\t\tif ( mountResult && _lifecycle.afterMount ) {\n\t\t\t\t\tawait _lifecycle.afterMount( {\n\t\t\t\t\t\telement: _element,\n\t\t\t\t\t\tmountResult\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} )\n\n\t\t\t// It will be released after destroying of editor by the {@link #_release method}.\n\t\t\t.then( () => releaseLock.promise )\n\n\t\t\t// Prevent hanging of semaphore during mount, just assume that everything is fine\n\t\t\t.catch( error => {\n\t\t\t\tconsole.error( 'CKEditor mounting error:', error );\n\t\t\t} )\n\n\t\t\t// Remove semaphore from map if released.\n\t\t\t.then( () => {\n\t\t\t\tif ( _semaphores.get( _element ) === newElementSemaphore ) {\n\t\t\t\t\t_semaphores.delete( _element );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t_semaphores.set( _element, newElementSemaphore );\n\t}\n\n\t/**\n\t * Inverse of {@link #_lock} method that tries to destroy attached editor.\n\t *\n\t * \t* If editor is being already attached to element (or is in attaching process) then after fully initialization of editor\n\t * \t  destroy is performed and semaphore is released. The {@link #_lifecycle} unmount method is called.\n\t *\n\t * \t* If editor is being destroyed before initialization then it does nothing but sets `destroyedBeforeInitialization` flag that\n\t * \t  will be later checked by {@link #_lock} method in initialization. The {@link #_lifecycle} unmount method is not called.\n\t *\n\t * *Important note:*\n\t *\n\t * It’s really important to keep this method *sync*. If we make this method *async*, it won’t work well because\n\t * it will cause problems when we’re trying to set up the {@link LifeCycleEditorElementSemaphore#_semaphores} map entries.\n\t */\n\tpublic readonly release = once( () => {\n\t\tconst { _releaseLock, _state, _element, _lifecycle } = this;\n\n\t\tif ( _state.mountingInProgress ) {\n\t\t\t_state.mountingInProgress\n\t\t\t\t.then( () => _lifecycle.unmount( {\n\t\t\t\t\telement: _element,\n\n\t\t\t\t\t// Mount result might be overridden by watchdog during restart so use instance variable.\n\t\t\t\t\tmountResult: this.value!\n\t\t\t\t} ) )\n\n\t\t\t\t// Prevent hanging of semaphore during unmount, just assume that everything is fine\n\t\t\t\t.catch( error => {\n\t\t\t\t\tconsole.error( 'CKEditor unmounting error:', error );\n\t\t\t\t} )\n\n\t\t\t\t.then( _releaseLock!.resolve )\n\t\t\t\t.then( () => {\n\t\t\t\t\tthis._value = null;\n\t\t\t\t} );\n\t\t} else {\n\t\t\t_state.destroyedBeforeInitialization = true;\n\t\t\t_releaseLock!.resolve();\n\t\t}\n\t} );\n}\n\nexport type LifeCycleAfterMountCallback<R> = ( mountResult: R ) => void;\n\ntype LifeCycleState<R> = {\n\tdestroyedBeforeInitialization: boolean;\n\tmountingInProgress: Promise<R> | null;\n};\n\ntype LifeCyclePostMountAttrs<R> = {\n\telement: HTMLElement;\n\tmountResult: R;\n};\n\nexport type LifeCycleAsyncOperators<R> = {\n\tmount: () => Promise<R>;\n\n\t/**\n\t * The optional method is called after the editor is mounted.\n\t * The result of the mount method is passed on as an argument.\n\t */\n\tafterMount?: ( result: LifeCyclePostMountAttrs<R> ) => Promise<void> | void;\n\n\t/**\n\t * The unmount method is called when the editor is destroyed.\n\t * The result of the mount method is passed on as an argument.\n\t */\n\tunmount: ( result: LifeCyclePostMountAttrs<R> ) => Promise<void>;\n\n\t/**\n\t * The optional method is used to check if the editor value is valid.\n\t * If this method returns false, callbacks registered with runAfterMount will not be executed.\n\t * This helps prevent errors in race conditions where the editor was destroyed during initialization.\n\t */\n\tisValueValid?: ( value: R ) => boolean;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { Config, EditorConfig } from 'ckeditor5';\n\n/**\n * The symbol cannot be used as a key because config getters require strings as keys.\n */\nconst ReactContextMetadataKey = '$__CKEditorReactContextMetadata';\n\n/**\n * Sets the metadata in the object.\n *\n * @param metadata The metadata to set.\n * @param object The object to set the metadata in.\n * @returns The object with the metadata set.\n */\nexport function withCKEditorReactContextMetadata(\n\tmetadata: CKEditorConfigContextMetadata,\n\tconfig: EditorConfig\n): EditorConfig & { [ ReactContextMetadataKey ]: CKEditorConfigContextMetadata } {\n\treturn {\n\t\t...config,\n\t\t[ ReactContextMetadataKey ]: metadata\n\t};\n}\n\n/**\n * Tries to extract the metadata from the object.\n *\n * @param object The object to extract the metadata from.\n */\nexport function tryExtractCKEditorReactContextMetadata( object: Config<any> ): CKEditorConfigContextMetadata | null {\n\treturn object.get( ReactContextMetadataKey );\n}\n\n/**\n * The metadata that is stored in the React context.\n */\nexport type CKEditorConfigContextMetadata = {\n\n\t/**\n\t * The name of the editor in the React context. It'll be later used in the `useInitializedCKEditorsMap` hook\n\t * to track the editor initialization and destruction events.\n\t */\n\tname?: string;\n\n\t/**\n\t * Any additional metadata that can be stored in the context.\n\t */\n\t[x: string | number | symbol]: unknown;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useEffect, useRef, type MutableRefObject } from 'react';\n\n/**\n * Custom hook that returns a mutable ref object indicating whether the component is mounted or not.\n *\n * @returns The mutable ref object.\n */\nexport const useIsMountedRef = (): MutableRefObject<boolean> => {\n\tconst mountedRef = useRef<boolean>( false );\n\n\tuseEffect( () => {\n\t\tmountedRef.current = true;\n\n\t\treturn () => {\n\t\t\tmountedRef.current = false;\n\t\t};\n\t}, [] );\n\n\treturn mountedRef;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useCallback, useRef } from 'react';\n\n/**\n * Hook that guarantees that returns constant reference for passed function.\n * Useful for preventing closures from capturing cached scope variables (avoiding the stale closure problem).\n */\nexport const useRefSafeCallback = <A extends Array<unknown>, R>( fn: ( ...args: A ) => R ): typeof fn => {\n\tconst callbackRef = useRef<typeof fn>();\n\tcallbackRef.current = fn;\n\n\treturn useCallback(\n\t\t( ...args: A ): R => ( callbackRef.current as typeof fn )( ...args ),\n\t\t[]\n\t);\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useEffect } from 'react';\nimport { useRefSafeCallback } from '../hooks/useRefSafeCallback.js';\n\nimport type { CollectionAddEvent, Context, ContextWatchdog, Editor, GetCallback } from 'ckeditor5';\nimport type { ContextWatchdogValue } from './ckeditorcontext.js';\n\nimport {\n\ttryExtractCKEditorReactContextMetadata,\n\ttype CKEditorConfigContextMetadata\n} from './setCKEditorReactContextMetadata.js';\n\n/**\n * A hook that listens for the editor initialization and destruction events and updates the editors map.\n *\n * @param config The configuration of the hook.\n * @param config.currentContextWatchdog The current context watchdog value.\n * @param config.onChangeInitializedEditors The function that updates the editors map.\n * @example\n * ```ts\n * useInitializedCKEditorsMap( {\n * \tcurrentContextWatchdog,\n * \tonChangeInitializedEditors: ( editors, context ) => {\n * \t\tconsole.log( 'Editors:', editors );\n * \t}\n * } );\n * ```\n */\nexport const useInitializedCKEditorsMap = <TContext extends Context>(\n\t{\n\t\tcurrentContextWatchdog,\n\t\tonChangeInitializedEditors\n\t}: InitializedContextEditorsConfig<TContext>\n): void => {\n\t// We need to use the safe callback to prevent the stale closure problem.\n\tconst onChangeInitializedEditorsSafe = useRefSafeCallback( onChangeInitializedEditors || ( () => {} ) );\n\n\tuseEffect( () => {\n\t\tif ( currentContextWatchdog.status !== 'initialized' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { watchdog } = currentContextWatchdog;\n\t\tconst editors = watchdog?.context?.editors;\n\n\t\tif ( !editors ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Get the initialized editors from\n\t\tconst getInitializedContextEditors = () => [ ...editors ].reduce<InitializedEditorsMap>(\n\t\t\t( map, editor ) => {\n\t\t\t\tif ( editor.state !== 'ready' ) {\n\t\t\t\t\treturn map;\n\t\t\t\t}\n\n\t\t\t\tconst metadata = tryExtractCKEditorReactContextMetadata( editor.config );\n\t\t\t\tconst nameOrId = metadata?.name ?? editor.id;\n\n\t\t\t\tmap[ nameOrId ] = {\n\t\t\t\t\tinstance: editor,\n\t\t\t\t\tmetadata\n\t\t\t\t};\n\n\t\t\t\treturn map;\n\t\t\t},\n\t\t\tObject.create( {} ) // Prevent the prototype pollution.\n\t\t);\n\n\t\t// The function that is called when the editor status changes.\n\t\tconst onEditorStatusChange = () => {\n\t\t\tonChangeInitializedEditorsSafe(\n\t\t\t\tgetInitializedContextEditors(),\n\t\t\t\twatchdog\n\t\t\t);\n\t\t};\n\n\t\t// Add the existing editors to the map.\n\t\tconst trackEditorLifecycle = ( editor: Editor ) => {\n\t\t\teditor.once( 'ready', onEditorStatusChange, { priority: 'lowest' } );\n\t\t\teditor.once( 'destroy', onEditorStatusChange, { priority: 'lowest' } );\n\t\t};\n\n\t\tconst onAddEditorToCollection: GetCallback<CollectionAddEvent<Editor>> = ( _, editor ) => {\n\t\t\ttrackEditorLifecycle( editor );\n\t\t};\n\n\t\teditors.forEach( trackEditorLifecycle );\n\t\teditors.on<CollectionAddEvent<Editor>>( 'add', onAddEditorToCollection );\n\n\t\t// Fire the initial change event if there is at least one editor ready, otherwise wait for the first ready editor.\n\t\tif ( Array.from( editors ).some( editor => editor.state === 'ready' ) ) {\n\t\t\tonEditorStatusChange();\n\t\t}\n\n\t\treturn () => {\n\t\t\teditors.off( 'add', onAddEditorToCollection );\n\t\t};\n\t}, [ currentContextWatchdog ] );\n};\n\n/**\n * A map of initialized editors.\n */\ntype InitializedEditorsMap = Record<string, {\n\tinstance: Editor;\n\tmetadata: CKEditorConfigContextMetadata | null;\n}>;\n\n/**\n * The configuration of the `useInitializedCKEditorsMap` hook.\n */\nexport type InitializedContextEditorsConfig<TContext extends Context> = {\n\n\t/**\n\t * The current context watchdog value.\n\t */\n\tcurrentContextWatchdog: ContextWatchdogValue<TContext>;\n\n\t/**\n\t * The callback called when the editors map changes.\n\t */\n\tonChangeInitializedEditors?: (\n\t\teditors: InitializedEditorsMap,\n\t\twatchdog: ContextWatchdog<TContext>\n\t) => void;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport React, {\n\tuseRef, useContext, useState, useEffect,\n\ttype PropsWithChildren,\n\ttype ReactElement\n} from 'react';\n\nimport { uid } from '@ckeditor/ckeditor5-integrations-common';\nimport { useIsMountedRef } from '../hooks/useIsMountedRef.js';\nimport {\n\tuseInitializedCKEditorsMap,\n\ttype InitializedContextEditorsConfig\n} from './useInitializedCKEditorsMap.js';\n\nimport type {\n\tContextWatchdog,\n\tWatchdogConfig,\n\tContext,\n\tContextConfig\n} from 'ckeditor5';\n\nexport const ContextWatchdogContext = React.createContext<ContextWatchdogValue | null>( null );\n\n/**\n * Custom hook that returns the CKEditor Watchdog context value.\n */\nexport const useCKEditorWatchdogContext = (): ContextWatchdogValue | null =>\n\tuseContext( ContextWatchdogContext );\n\n/**\n * A React component that provides a context for CKEditor.\n */\nconst CKEditorContext = <TContext extends Context = Context>( props: Props<TContext> ): ReactElement | null => {\n\tconst {\n\t\tid, context, watchdogConfig,\n\t\tchildren, config, onReady,\n\t\tcontextWatchdog: ContextWatchdogConstructor,\n\t\tisLayoutReady = true,\n\t\tonChangeInitializedEditors,\n\t\tonError = ( error, details ) => console.error( error, details )\n\t} = props;\n\n\tconst isMountedRef = useIsMountedRef();\n\tconst prevWatchdogInitializationIDRef = useRef<string | null>( null );\n\n\t// The currentContextWatchdog state is set to 'initializing' because it is checked later in the CKEditor component\n\t// which is waiting for the full initialization of the context watchdog.\n\tconst [ currentContextWatchdog, setCurrentContextWatchdog ] = useState<ContextWatchdogValue<TContext>>( {\n\t\tstatus: 'initializing'\n\t} );\n\n\t// Lets initialize the context watchdog when the layout is ready.\n\tuseEffect( () => {\n\t\tif ( isLayoutReady ) {\n\t\t\tinitializeContextWatchdog();\n\t\t} else {\n\t\t\tsetCurrentContextWatchdog( {\n\t\t\t\tstatus: 'initializing'\n\t\t\t} );\n\t\t}\n\t}, [ id, isLayoutReady ] );\n\n\t// Cleanup the context watchdog when the component is unmounted. Abort if the watchdog is not initialized.\n\tuseEffect( () => () => {\n\t\tif ( currentContextWatchdog.status === 'initialized' ) {\n\t\t\tcurrentContextWatchdog.watchdog.destroy();\n\t\t}\n\t}, [ currentContextWatchdog ] );\n\n\t// Listen for the editor initialization and destruction events and call the onChangeInitializedEditors function.\n\tuseInitializedCKEditorsMap( {\n\t\tcurrentContextWatchdog,\n\t\tonChangeInitializedEditors\n\t} );\n\n\t/**\n\t * Regenerates the initialization ID by generating a random ID and updating the previous watchdog initialization ID.\n\t * This is necessary to ensure that the state update is performed only if the current initialization ID matches the previous one.\n\t * This helps to avoid race conditions and ensures that the correct context watchdog is associated with the component.\n\t *\n\t * @returns The regenerated initialization ID.\n\t */\n\tfunction regenerateInitializationID() {\n\t\tprevWatchdogInitializationIDRef.current = uid();\n\n\t\treturn prevWatchdogInitializationIDRef.current;\n\t}\n\n\t/**\n\t * Checks if the state can be updated based on the provided initialization ID.\n\t *\n\t * @param initializationID The initialization ID to compare with the previous one.\n\t * @returns A boolean indicating whether the state can be updated.\n\t */\n\tfunction canUpdateState( initializationID: string ) {\n\t\treturn prevWatchdogInitializationIDRef.current === initializationID && isMountedRef.current;\n\t}\n\n\t/**\n\t * Initializes the context watchdog.\n\t *\n\t * @returns Watchdog instance.\n\t */\n\tfunction initializeContextWatchdog() {\n\t\t// The prevWatchdogInitializationID variable is used to keep track of the previous initialization ID.\n\t\t// It is used to ensure that the state update is performed only if the current initialization ID matches the previous one.\n\t\t// This helps to avoid race conditions and ensures that the correct context watchdog is associated with the component.\n\t\tconst watchdogInitializationID = regenerateInitializationID()!;\n\t\tconst contextWatchdog = new ContextWatchdogConstructor( context!, watchdogConfig );\n\n\t\t// Handle error event from context watchdog.\n\t\tcontextWatchdog.on( 'error', ( _, errorEvent ) => {\n\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\tif ( canUpdateState( watchdogInitializationID ) ) {\n\t\t\t\tonError( errorEvent.error, {\n\t\t\t\t\tphase: 'runtime',\n\t\t\t\t\twillContextRestart: errorEvent.causesRestart\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t// Handle state change event from context watchdog.\n\t\tcontextWatchdog.on( 'stateChange', () => {\n\t\t\tif ( onReady && contextWatchdog.state === 'ready' && canUpdateState( watchdogInitializationID ) ) {\n\t\t\t\tonReady(\n\t\t\t\t\tcontextWatchdog.context! as TContext,\n\t\t\t\t\tcontextWatchdog\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t\t// Create the context watchdog and initialize it with the provided config.\n\t\tcontextWatchdog\n\t\t\t.create( config )\n\t\t\t.then( () => {\n\t\t\t\t// Check if the state update is still valid and update the current context watchdog.\n\t\t\t\tif ( canUpdateState( watchdogInitializationID ) ) {\n\t\t\t\t\tsetCurrentContextWatchdog( {\n\t\t\t\t\t\tstatus: 'initialized',\n\t\t\t\t\t\twatchdog: contextWatchdog\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t// Destroy the context watchdog if the state update is no longer valid.\n\t\t\t\t\tcontextWatchdog.destroy();\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( error => {\n\t\t\t\t// Update the current context watchdog with the error status.\n\t\t\t\tif ( canUpdateState( watchdogInitializationID ) ) {\n\t\t\t\t\t// Handle error during context watchdog initialization.\n\t\t\t\t\tonError( error, {\n\t\t\t\t\t\tphase: 'initialization',\n\t\t\t\t\t\twillContextRestart: false\n\t\t\t\t\t} );\n\n\t\t\t\t\tsetCurrentContextWatchdog( {\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\terror\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\treturn contextWatchdog;\n\t}\n\n\treturn (\n\t\t<ContextWatchdogContext.Provider value={currentContextWatchdog}>\n\t\t\t{children}\n\t\t</ContextWatchdogContext.Provider>\n\t);\n};\n\n/**\n * Checks if the given object is of type ContextWatchdogValue.\n *\n * @param obj The object to be checked.\n * @returns True if the object is of type ContextWatchdogValue, false otherwise.\n */\nexport const isContextWatchdogValue = ( obj: any ): obj is ContextWatchdogValue =>\n\t!!obj && typeof obj === 'object' && 'status' in obj && [ 'initializing', 'initialized', 'error' ].includes( obj.status );\n\n/**\n * Checks if the provided object is a context watchdog value with the specified status.\n */\nexport const isContextWatchdogValueWithStatus = <S extends ContextWatchdogValueStatus>( status: S ) =>\n\t( obj: any ): obj is ExtractContextWatchdogValueByStatus<S> =>\n\t\tisContextWatchdogValue( obj ) && obj.status === status;\n\n/**\n * Checks if the context watchdog is currently initializing.\n */\nexport const isContextWatchdogInitializing = isContextWatchdogValueWithStatus( 'initializing' );\n\n/**\n * Checks if the provided object is a fully initialized context watchdog value. It prevents race conditions between\n * watchdog state that is not fully synchronized with the context state. For example, the watchdog state can be 'destroyed'\n * while the context is still being initialized because context setState is pending.\n */\nexport const isContextWatchdogReadyToUse = ( obj: any ): obj is ExtractContextWatchdogValueByStatus<'initialized'> => (\n\tisContextWatchdogValueWithStatus( 'initialized' )( obj ) &&\n\tobj.watchdog.state === 'ready'\n);\n\n/**\n * Represents the value of the ContextWatchdog in the CKEditor context.\n */\nexport type ContextWatchdogValue<TContext extends Context = Context> =\n\t| {\n\t\tstatus: 'initializing';\n\t}\n\t| {\n\t\tstatus: 'initialized';\n\t\twatchdog: ContextWatchdog<TContext>;\n\t}\n\t| {\n\t\tstatus: 'error';\n\t\terror: ErrorDetails;\n\t};\n\n/**\n * Represents the status of the ContextWatchdogValue.\n */\nexport type ContextWatchdogValueStatus = ContextWatchdogValue[ 'status' ];\n\n/**\n * Extracts a specific type of `ContextWatchdogValue` based on its status.\n */\nexport type ExtractContextWatchdogValueByStatus<S extends ContextWatchdogValueStatus> = Extract<\n\tContextWatchdogValue,\n\t{ status: S }\n>;\n\n/**\n * Props for the CKEditorContext component.\n */\nexport type Props<TContext extends Context> =\n\t& PropsWithChildren\n\t& Pick<InitializedContextEditorsConfig<TContext>, 'onChangeInitializedEditors'>\n\t& {\n\t\tid?: string;\n\t\tisLayoutReady?: boolean;\n\t\tcontext?: { create( ...args: any ): Promise<TContext> };\n\t\tcontextWatchdog: typeof ContextWatchdog<TContext>;\n\t\twatchdogConfig?: WatchdogConfig;\n\t\tconfig?: ContextConfig;\n\t\tonReady?: ( context: TContext, watchdog: ContextWatchdog<TContext> ) => void;\n\t\tonError?: ( error: Error, details: ErrorDetails ) => void;\n\t};\n\ntype ErrorDetails = {\n\tphase: 'initialization' | 'runtime';\n\twillContextRestart: boolean;\n};\n\nexport default CKEditorContext;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport React from 'react';\nimport { createIntegrationUsageDataPlugin } from '@ckeditor/ckeditor5-integrations-common';\n\n/**\n * This part of the code is not executed in open-source implementations using a GPL key.\n * It only runs when a specific license key is provided. If you are uncertain whether\n * this applies to your installation, please contact our support team.\n */\nexport const ReactIntegrationUsageDataPlugin = createIntegrationUsageDataPlugin(\n\t'react',\n\t{\n\t\tversion: __REACT_INTEGRATION_VERSION__,\n\t\tframeworkVersion: React.version\n\t}\n);\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { appendExtraPluginsToEditorConfig, isCKEditorFreeLicense } from '@ckeditor/ckeditor5-integrations-common';\nimport type { EditorConfig } from 'ckeditor5';\n\nimport { ReactIntegrationUsageDataPlugin } from './ReactIntegrationUsageDataPlugin.js';\n\n/**\n * Appends all integration plugins to the editor configuration.\n *\n * @param editorConfig The editor configuration.\n * @returns The editor configuration with all integration plugins appended.\n */\nexport function appendAllIntegrationPluginsToConfig( editorConfig: EditorConfig ): EditorConfig {\n\t/**\n\t * Do not modify the editor configuration if the editor is using a free license.\n\t */\n\tif ( isCKEditorFreeLicense( editorConfig.licenseKey ) ) {\n\t\treturn editorConfig;\n\t}\n\n\treturn appendExtraPluginsToEditorConfig( editorConfig, [\n\t\t/**\n\t\t * This part of the code is not executed in open-source implementations using a GPL key.\n\t\t * It only runs when a specific license key is provided. If you are uncertain whether\n\t\t * this applies to your installation, please contact our support team.\n\t\t */\n\t\tReactIntegrationUsageDataPlugin\n\t] );\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport React from 'react';\n\nimport type {\n\tEventInfo,\n\tEditor,\n\tEditorConfig,\n\tEditorWatchdog,\n\tContextWatchdog,\n\tWatchdogConfig\n} from 'ckeditor5';\n\nimport type { EditorSemaphoreMountResult } from './lifecycle/LifeCycleEditorSemaphore.js';\n\nimport { uid } from '@ckeditor/ckeditor5-integrations-common';\nimport { LifeCycleElementSemaphore } from './lifecycle/LifeCycleElementSemaphore.js';\n\nimport {\n\twithCKEditorReactContextMetadata,\n\ttype CKEditorConfigContextMetadata\n} from './context/setCKEditorReactContextMetadata.js';\n\nimport {\n\tContextWatchdogContext,\n\tisContextWatchdogInitializing,\n\tisContextWatchdogReadyToUse\n} from './context/ckeditorcontext.js';\n\nimport { appendAllIntegrationPluginsToConfig } from './plugins/appendAllIntegrationPluginsToConfig.js';\n\nconst REACT_INTEGRATION_READ_ONLY_LOCK_ID = 'Lock from React integration (@ckeditor/ckeditor5-react)';\n\nexport default class CKEditor<TEditor extends Editor> extends React.Component<Props<TEditor>> {\n\t/**\n\t * After mounting the editor, the variable will contain a reference to the created editor.\n\t * @see: https://ckeditor.com/docs/ckeditor5/latest/api/module_core_editor_editor-Editor.html\n\t */\n\tprivate domContainer = React.createRef<HTMLDivElement>();\n\n\t/**\n\t * Unlocks element in editor semaphore after destroy editor instance.\n\t */\n\tprivate editorSemaphore: LifeCycleElementSemaphore<EditorSemaphoreMountResult<TEditor>> | null = null;\n\n\tconstructor( props: Props<TEditor> ) {\n\t\tsuper( props );\n\n\t\tthis._checkVersion();\n\t}\n\n\t/**\n\t * Checks if the CKEditor version used in the application is compatible with the component.\n\t */\n\tprivate _checkVersion(): void {\n\t\tconst { CKEDITOR_VERSION } = window;\n\n\t\tif ( !CKEDITOR_VERSION ) {\n\t\t\treturn console.warn( 'Cannot find the \"CKEDITOR_VERSION\" in the \"window\" scope.' );\n\t\t}\n\n\t\tconst [ major ] = CKEDITOR_VERSION.split( '.' ).map( Number );\n\n\t\tif ( major >= 42 || CKEDITOR_VERSION.startsWith( '0.0.0' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.warn( 'The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.' );\n\t}\n\n\tprivate get _semaphoreValue(): EditorSemaphoreMountResult<TEditor> | null {\n\t\tconst { editorSemaphore } = this;\n\n\t\treturn editorSemaphore ? editorSemaphore.value : null;\n\t}\n\n\t/**\n\t * An watchdog instance.\n\t */\n\tpublic get watchdog(): EditorWatchdog<TEditor> | EditorWatchdogAdapter<TEditor> | null {\n\t\tconst { _semaphoreValue } = this;\n\n\t\treturn _semaphoreValue ? _semaphoreValue.watchdog : null;\n\t}\n\n\t/**\n\t * An editor instance.\n\t */\n\tpublic get editor(): Editor | null {\n\t\tconst { _semaphoreValue } = this;\n\n\t\treturn _semaphoreValue ? _semaphoreValue.instance : null;\n\t}\n\n\t/**\n\t * The CKEditor component should not be updated by React itself.\n\t * However, if the component identifier changes, the whole structure should be created once again.\n\t */\n\tpublic override shouldComponentUpdate( nextProps: Readonly<Props<TEditor>> ): boolean {\n\t\tconst { props, editorSemaphore } = this;\n\n\t\t// Only when the component identifier changes the whole structure should be re-created once again.\n\t\tif ( nextProps.id !== props.id ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( nextProps.disableWatchdog !== props.disableWatchdog ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( editorSemaphore ) {\n\t\t\teditorSemaphore.runAfterMount( ( { instance } ) => {\n\t\t\t\tif ( this._shouldUpdateEditorData( props, nextProps, instance ) ) {\n\t\t\t\t\tinstance.data.set( nextProps.data! );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif ( 'disabled' in nextProps ) {\n\t\t\t\teditorSemaphore.runAfterMount( ( { instance } ) => {\n\t\t\t\t\tif ( nextProps.disabled ) {\n\t\t\t\t\t\tinstance.enableReadOnlyMode( REACT_INTEGRATION_READ_ONLY_LOCK_ID );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance.disableReadOnlyMode( REACT_INTEGRATION_READ_ONLY_LOCK_ID );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Initialize the editor when the component is mounted.\n\t */\n\tpublic override componentDidMount(): void {\n\t\tif ( !isContextWatchdogInitializing( this.context ) ) {\n\t\t\tthis._initLifeCycleSemaphore();\n\t\t}\n\t}\n\n\t/**\n\t * Re-render the entire component once again. The old editor will be destroyed and the new one will be created.\n\t */\n\tpublic override componentDidUpdate(): void {\n\t\tif ( !isContextWatchdogInitializing( this.context ) ) {\n\t\t\tthis._initLifeCycleSemaphore();\n\t\t}\n\t}\n\n\t/**\n\t * Destroy the editor before unmounting the component.\n\t */\n\tpublic override componentWillUnmount(): void {\n\t\tthis._unlockLifeCycleSemaphore();\n\t}\n\n\t/**\n\t * Async destroy attached editor and unlock element semaphore.\n\t */\n\tprivate _unlockLifeCycleSemaphore() {\n\t\tif ( this.editorSemaphore ) {\n\t\t\tthis.editorSemaphore.release();\n\t\t\tthis.editorSemaphore = null;\n\t\t}\n\t}\n\n\t/**\n\t * Unlocks previous editor semaphore and creates new one..\n\t */\n\tprivate _initLifeCycleSemaphore() {\n\t\tthis._unlockLifeCycleSemaphore();\n\t\tthis.editorSemaphore = new LifeCycleElementSemaphore( this.domContainer.current!, {\n\t\t\tisValueValid: value => value && !!value.instance,\n\t\t\tmount: async () => {\n\t\t\t\ttry {\n\t\t\t\t\treturn await this._initializeEditor();\n\t\t\t\t} catch ( error: any ) {\n\t\t\t\t\tthis.props.onError?.( error, { phase: 'initialization', willEditorRestart: false } );\n\n\t\t\t\t\t// Rethrow, let's semaphore handle it.\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t},\n\t\t\tafterMount: ( { mountResult } ) => {\n\t\t\t\tconst { onReady } = this.props;\n\n\t\t\t\tif ( onReady && this.domContainer.current !== null ) {\n\t\t\t\t\tonReady( mountResult.instance );\n\t\t\t\t}\n\t\t\t},\n\t\t\tunmount: async ( { element, mountResult } ) => {\n\t\t\t\tconst { onAfterDestroy } = this.props;\n\n\t\t\t\ttry {\n\t\t\t\t\tawait this._destroyEditor( mountResult );\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Make sure that nothing left in actual editor element. There can be custom integrations that\n\t\t\t\t\t * appends something to container. Let's reset element every update cycle before mounting another\n\t\t\t\t\t * editor instance.\n\t\t\t\t\t */\n\t\t\t\t\telement.innerHTML = '';\n\t\t\t\t} finally {\n\t\t\t\t\t/**\n\t\t\t\t\t * Broadcast information about destroying current instance. It is useful for removing duplicated\n\t\t\t\t\t * toolbars in decoupled editor mode.\n\t\t\t\t\t */\n\t\t\t\t\tif ( onAfterDestroy ) {\n\t\t\t\t\t\tonAfterDestroy( mountResult.instance );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Render a <div> element which will be replaced by CKEditor.\n\t */\n\tpublic override render(): React.ReactNode {\n\t\treturn (\n\t\t\t<div ref={ this.domContainer }></div>\n\t\t);\n\t}\n\n\t/**\n\t * Initializes the editor by creating a proper watchdog and initializing it with the editor's configuration.\n\t */\n\tprivate async _initializeEditor(): Promise<EditorSemaphoreMountResult<TEditor>> {\n\t\tif ( this.props.disableWatchdog ) {\n\t\t\tconst instance = await this._createEditor( this.domContainer.current!, this._getConfig() );\n\n\t\t\treturn {\n\t\t\t\tinstance: instance as TEditor,\n\t\t\t\twatchdog: null\n\t\t\t};\n\t\t}\n\n\t\tconst watchdog = ( () => {\n\t\t\t// There is small delay where React did not update the context yet but watchdog is already destroyed.\n\t\t\t// However editor should be created again in such case, after receiving new context.\n\t\t\tif ( isContextWatchdogReadyToUse( this.context ) ) {\n\t\t\t\treturn new EditorWatchdogAdapter( this.context.watchdog );\n\t\t\t}\n\n\t\t\treturn new this.props.editor.EditorWatchdog( this.props.editor, this.props.watchdogConfig );\n\t\t} )() as EditorWatchdogAdapter<TEditor>;\n\n\t\tconst totalRestartsRef = {\n\t\t\tcurrent: 0\n\t\t};\n\n\t\twatchdog.setCreator( async ( el, config ) => {\n\t\t\tconst { editorSemaphore } = this;\n\t\t\tconst { onAfterDestroy } = this.props;\n\n\t\t\tif ( totalRestartsRef.current > 0 && onAfterDestroy && editorSemaphore?.value?.instance ) {\n\t\t\t\tonAfterDestroy( editorSemaphore.value.instance );\n\t\t\t}\n\n\t\t\tconst instance = await this._createEditor( el as any, config );\n\n\t\t\t// The editor semaphore can be unavailable at this stage. There is a small chance that the component\n\t\t\t// was destroyed while watchdog was initializing new instance of editor. In such case, we should not\n\t\t\t// call any callbacks or set any values to the semaphore.\n\t\t\tif ( editorSemaphore && totalRestartsRef.current > 0 ) {\n\t\t\t\teditorSemaphore.unsafeSetValue( {\n\t\t\t\t\tinstance,\n\t\t\t\t\twatchdog\n\t\t\t\t} );\n\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tif ( this.props.onReady ) {\n\t\t\t\t\t\tthis.props.onReady( watchdog!.editor as TEditor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\ttotalRestartsRef.current++;\n\t\t\treturn instance;\n\t\t} );\n\n\t\twatchdog.on( 'error', ( _, { error, causesRestart } ) => {\n\t\t\tconst onError = this.props.onError || console.error;\n\t\t\tonError( error, { phase: 'runtime', willEditorRestart: causesRestart } );\n\t\t} );\n\n\t\tawait watchdog.create( this.domContainer.current!, this._getConfig() );\n\n\t\treturn {\n\t\t\twatchdog,\n\t\t\tinstance: watchdog!.editor\n\t\t};\n\t}\n\n\t/**\n\t * Creates an editor from the element and configuration.\n\t *\n\t * @param element The source element.\n\t * @param config CKEditor 5 editor configuration.\n\t */\n\tprivate _createEditor( element: HTMLElement | string | Record<string, string>, config: EditorConfig ): Promise<TEditor> {\n\t\tconst { contextItemMetadata } = this.props;\n\n\t\tif ( contextItemMetadata ) {\n\t\t\tconfig = withCKEditorReactContextMetadata( contextItemMetadata, config );\n\t\t}\n\n\t\treturn this.props.editor.create(\n\t\t\telement as HTMLElement,\n\t\t\tappendAllIntegrationPluginsToConfig( config )\n\t\t)\n\t\t\t.then( editor => {\n\t\t\t\tif ( 'disabled' in this.props ) {\n\t\t\t\t\t// Switch to the read-only mode if the `[disabled]` attribute is specified.\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( this.props.disabled ) {\n\t\t\t\t\t\teditor.enableReadOnlyMode( REACT_INTEGRATION_READ_ONLY_LOCK_ID );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst modelDocument = editor.model.document;\n\t\t\t\tconst viewDocument = editor.editing.view.document;\n\n\t\t\t\tmodelDocument.on( 'change:data', event => {\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( this.props.onChange ) {\n\t\t\t\t\t\tthis.props.onChange( event, editor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tviewDocument.on( 'focus', event => {\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( this.props.onFocus ) {\n\t\t\t\t\t\tthis.props.onFocus( event, editor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tviewDocument.on( 'blur', event => {\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( this.props.onBlur ) {\n\t\t\t\t\t\tthis.props.onBlur( event, editor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn editor;\n\t\t\t} );\n\t}\n\n\t/**\n\t * Destroys the editor by destroying the watchdog.\n\t */\n\tprivate async _destroyEditor( initializeResult: EditorSemaphoreMountResult<Editor> ): Promise<void> {\n\t\tconst { watchdog, instance } = initializeResult;\n\n\t\treturn new Promise<void>( ( resolve, reject ) => {\n\t\t\t// It may happen during the tests that the watchdog instance is not assigned before destroying itself. See: #197.\n\t\t\t//\n\t\t\t// Additionally, we need to find a way to detect if the whole context has been destroyed. As `componentWillUnmount()`\n\t\t\t// could be fired by <CKEditorContext /> and <CKEditor /> at the same time, this `setTimeout()` makes sure\n\t\t\t// that <CKEditorContext /> component will be destroyed first, so during the code execution\n\t\t\t// the `ContextWatchdog#state` would have a correct value. See `EditorWatchdogAdapter#destroy()` for more information.\n\t\t\t/* istanbul ignore next -- @preserve */\n\t\t\tsetTimeout( async () => {\n\t\t\t\ttry {\n\t\t\t\t\tif ( watchdog ) {\n\t\t\t\t\t\tawait watchdog.destroy();\n\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( instance ) {\n\t\t\t\t\t\tawait instance.destroy();\n\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve();\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tconsole.error( e );\n\t\t\t\t\treject( e );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Returns true when the editor should be updated.\n\t *\n\t * @param prevProps Previous react's properties.\n\t * @param nextProps React's properties.\n\t * @param editor Current editor instance.\n\t */\n\tprivate _shouldUpdateEditorData( prevProps: Readonly<Props<TEditor>>, nextProps: Readonly<Props<TEditor>>, editor: TEditor ): boolean {\n\t\t// Check whether `nextProps.data` is equal to `this.props.data` is required if somebody defined the `#data`\n\t\t// property as a static string and updated a state of component when the editor's content has been changed.\n\t\t// If we avoid checking those properties, the editor's content will back to the initial value because\n\t\t// the state has been changed and React will call this method.\n\t\tif ( prevProps.data === nextProps.data ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// We should not change data if the editor's content is equal to the `#data` property.\n\t\tif ( editor.data.get() === nextProps.data ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Returns the editor configuration.\n\t */\n\tprivate _getConfig(): EditorConfig {\n\t\tconst config = this.props.config || {};\n\n\t\tif ( this.props.data && config.initialData ) {\n\t\t\tconsole.warn(\n\t\t\t\t'Editor data should be provided either using `config.initialData` or `content` property. ' +\n\t\t\t\t'The config value takes precedence over `content` property and will be used when both are specified.'\n\t\t\t);\n\t\t}\n\n\t\t// Merge two possible ways of providing data into the `config.initialData` field.\n\t\treturn {\n\t\t\t...config,\n\t\t\tinitialData: config.initialData || this.props.data || ''\n\t\t};\n\t}\n\n\tpublic static override contextType = ContextWatchdogContext;\n}\n\n/**\n * TODO this is type space definition for props, the CKEditor.propTypes is a run-time props validation that should match.\n */\nexport interface Props<TEditor extends Editor> {\n\teditor: {\n\t\tcreate( ...args: any ): Promise<TEditor>;\n\t\tEditorWatchdog: typeof EditorWatchdog;\n\t\tContextWatchdog: typeof ContextWatchdog;\n\t};\n\tcontextItemMetadata?: CKEditorConfigContextMetadata;\n\tconfig?: EditorConfig;\n\twatchdogConfig?: WatchdogConfig;\n\tdisableWatchdog?: boolean;\n\tonReady?: ( editor: TEditor ) => void;\n\tonAfterDestroy?: ( editor: TEditor ) => void;\n\tonError?: ( error: Error, details: ErrorDetails ) => void;\n\tonChange?: ( event: EventInfo, editor: TEditor ) => void;\n\tonFocus?: ( event: EventInfo, editor: TEditor ) => void;\n\tonBlur?: ( event: EventInfo, editor: TEditor ) => void;\n\tdata?: string;\n\tdisabled?: boolean;\n\tid?: any;\n}\n\ninterface ErrorDetails {\n\tphase: 'initialization' | 'runtime';\n\twillEditorRestart?: boolean;\n}\n\n/**\n * An adapter aligning the context watchdog API to the editor watchdog API for easier usage.\n */\nexport class EditorWatchdogAdapter<TEditor extends Editor> {\n\t/**\n\t * The context watchdog instance that will be wrapped into editor watchdog API.\n\t */\n\tprivate readonly _contextWatchdog: ContextWatchdog;\n\n\t/**\n\t * A unique id for the adapter to distinguish editor items when using the context watchdog API.\n\t */\n\tprivate readonly _id: string;\n\n\t/**\n\t * A watchdog's editor creator function.\n\t */\n\tprivate _creator?: AdapterEditorCreatorFunction;\n\n\t/**\n\t * @param contextWatchdog The context watchdog instance that will be wrapped into editor watchdog API.\n\t */\n\tconstructor( contextWatchdog: ContextWatchdog ) {\n\t\tthis._contextWatchdog = contextWatchdog;\n\t\tthis._id = uid();\n\t}\n\n\t/**\n\t *  @param creator A watchdog's editor creator function.\n\t */\n\tpublic setCreator( creator: AdapterEditorCreatorFunction ): void {\n\t\tthis._creator = creator;\n\t}\n\n\t/**\n\t * Adds an editor configuration to the context watchdog registry. Creates an instance of it.\n\t *\n\t * @param sourceElementOrData A source element or data for the new editor.\n\t * @param config CKEditor 5 editor config.\n\t */\n\tpublic create( sourceElementOrData: HTMLElement | string, config: EditorConfig ): Promise<unknown> {\n\t\treturn this._contextWatchdog.add( {\n\t\t\tsourceElementOrData,\n\t\t\tconfig,\n\t\t\tcreator: this._creator!,\n\t\t\tid: this._id,\n\t\t\ttype: 'editor'\n\t\t} );\n\t}\n\n\t/**\n\t * Creates a listener that is attached to context watchdog's item and run when the context watchdog fires.\n\t * Currently works only for the `error` event.\n\t */\n\tpublic on( _: string, callback: ( _: null, data: { error: Error; causesRestart?: boolean } ) => void ): void {\n\t\t// Assume that the event name was error.\n\t\tthis._contextWatchdog.on( 'itemError', ( _, { itemId, error } ) => {\n\t\t\tif ( itemId === this._id ) {\n\t\t\t\tcallback( null, { error, causesRestart: undefined } );\n\t\t\t}\n\t\t} );\n\t}\n\n\tpublic destroy(): Promise<unknown> {\n\t\t// Destroying an editor instance after destroying the Context is handled in the `ContextWatchdog` class.\n\t\t// As `EditorWatchdogAdapter` is an adapter, we should not destroy the editor manually.\n\t\t// Otherwise, it causes that the editor is destroyed twice. However, there is a case, when the editor\n\t\t// needs to be removed from the context, without destroying the context itself. We may assume the following\n\t\t// relations with `ContextWatchdog#state`:\n\t\t//\n\t\t// a) `ContextWatchdog#state` === 'ready' - context is not destroyed; it's safe to destroy the editor manually.\n\t\t// b) `ContextWatchdog#state` === 'destroyed' - context is destroyed; let `ContextWatchdog` handle the whole process.\n\t\t//\n\t\t// See #354 for more information.\n\t\tif ( this._contextWatchdog.state === 'ready' ) {\n\t\t\treturn this._contextWatchdog.remove( this._id );\n\t\t}\n\n\t\treturn Promise.resolve();\n\t}\n\n\t/**\n\t * An editor instance.\n\t */\n\tpublic get editor(): TEditor {\n\t\treturn this._contextWatchdog.getItem( this._id ) as TEditor;\n\t}\n}\n\ntype AdapterEditorCreatorFunction<TEditor = Editor> = (\n\telementOrData: HTMLElement | string | Record<string, string> | Record<string, HTMLElement>,\n\tconfig: EditorConfig\n) => Promise<TEditor>;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useRef, useState, type RefObject } from 'react';\nimport type { LifeCycleElementSemaphore, LifeCycleAfterMountCallback } from './LifeCycleElementSemaphore.js';\n\n/**\n * When using the `useState` approach, a new instance of the semaphore must be set based on the previous\n * one within the `setState` callback, as shown in this example:\n *\n * \t\tsetState( prevSemaphore => ... )\n *\n * The issue arises from the uncertainty of whether React has batched and cancelled some `setState` calls.\n * This means that setting the state with a semaphore three times might result in the collapsing of these three calls into a single one.\n *\n * Although this may not seem like a significant issue in theory, it can lead to a multitude of minor issues in practice that may\n * generate race conditions. This is because semaphores handle batching independently.\n *\n * A solution involving refs is safer in terms of preserving object references. In other words, `semaphoreRef.current` is guaranteed to\n * always point to the most recent instance of the semaphore.\n */\nexport const useLifeCycleSemaphoreSyncRef = <R extends object>(): LifeCycleSemaphoreSyncRefResult<R> => {\n\tconst semaphoreRef = useRef<LifeCycleElementSemaphore<R> | null>( null );\n\tconst [ revision, setRevision ] = useState( () => Date.now() );\n\n\tconst refresh = () => {\n\t\tsetRevision( Date.now() );\n\t};\n\n\tconst release = ( rerender: boolean = true ) => {\n\t\tif ( semaphoreRef.current ) {\n\t\t\tsemaphoreRef.current.release();\n\t\t\tsemaphoreRef.current = null;\n\t\t}\n\n\t\tif ( rerender ) {\n\t\t\tsetRevision( Date.now() );\n\t\t}\n\t};\n\n\tconst unsafeSetValue = ( value: R ) => {\n\t\tsemaphoreRef.current?.unsafeSetValue( value );\n\t\trefresh();\n\t};\n\n\tconst runAfterMount = ( callback: LifeCycleAfterMountCallback<R> ) => {\n\t\tif ( semaphoreRef.current ) {\n\t\t\tsemaphoreRef.current.runAfterMount( callback );\n\t\t}\n\t};\n\n\tconst replace = ( newSemaphore: () => LifeCycleElementSemaphore<R> ) => {\n\t\trelease( false );\n\t\tsemaphoreRef.current = newSemaphore();\n\n\t\trefresh();\n\t\trunAfterMount( refresh );\n\t};\n\n\tconst createAttributeRef = <K extends keyof R>( key: K ): RefObject<R[ K ]> => ( {\n\t\tget current() {\n\t\t\tif ( !semaphoreRef.current || !semaphoreRef.current.value ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn semaphoreRef.current.value[ key ];\n\t\t}\n\t} );\n\n\treturn {\n\t\tget current() {\n\t\t\treturn semaphoreRef.current;\n\t\t},\n\t\trevision,\n\t\tcreateAttributeRef,\n\t\tunsafeSetValue,\n\t\trelease,\n\t\treplace,\n\t\trunAfterMount\n\t};\n};\n\nexport type LifeCycleSemaphoreSyncRefResult<R> = RefObject<LifeCycleElementSemaphore<R>> & {\n\trevision: number;\n\tunsafeSetValue: ( value: R ) => void;\n\trunAfterMount: ( callback: LifeCycleAfterMountCallback<R> ) => void;\n\trelease: ( rerender?: boolean ) => void;\n\treplace: ( newSemaphore: () => LifeCycleElementSemaphore<R> ) => void;\n\tcreateAttributeRef: <K extends keyof R>( key: K ) => RefObject<R[ K ]>;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { MutableRefObject } from 'react';\n\ntype CallbackRef<T> = ( element: T ) => void;\n\ntype ReactRef<T> = CallbackRef<T | null> | MutableRefObject<T | null> | null;\n\n/**\n * Combine multiple react refs into one.\n */\nexport function mergeRefs<T>( ...refs: Array<ReactRef<T>> ): CallbackRef<T> {\n\treturn value => {\n\t\trefs.forEach( ref => {\n\t\t\tif ( typeof ref === 'function' ) {\n\t\t\t\tref( value );\n\t\t\t} else if ( ref != null ) {\n\t\t\t\tref.current = value;\n\t\t\t}\n\t\t} );\n\t};\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useState, type DependencyList } from 'react';\nimport { shallowCompareArrays } from '@ckeditor/ckeditor5-integrations-common';\n\n/**\n * Triggers an effect immediately if the dependencies change (during rendering of component).\n *\n * @param fn The effect function to execute.\n * @param deps The dependency list.\n */\nexport const useInstantEffect = ( fn: VoidFunction, deps: DependencyList ): void => {\n\tconst [ prevDeps, setDeps ] = useState<any>( null );\n\n\tif ( !shallowCompareArrays( prevDeps, deps ) ) {\n\t\tfn();\n\t\tsetDeps( [ ...deps ] );\n\t}\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { DependencyList } from 'react';\nimport type { LifeCycleElementSemaphore } from '../lifecycle/LifeCycleElementSemaphore.js';\n\nimport { useInstantEffect } from './useInstantEffect.js';\n\n/**\n * `useEffect` alternative but executed after mounting of editor.\n */\nexport const useInstantEditorEffect = <R>(\n\tsemaphore: Pick<LifeCycleElementSemaphore<R>, 'runAfterMount'> | null,\n\tfn: ( mountResult: R ) => void,\n\tdeps: DependencyList\n): void => {\n\tuseInstantEffect( () => {\n\t\tif ( semaphore ) {\n\t\t\tsemaphore.runAfterMount( fn );\n\t\t}\n\t}, [ semaphore, ...deps ] );\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport React, {\n\tforwardRef, useState, useEffect, useRef, useContext, useCallback, memo,\n\ttype Dispatch, type SetStateAction, type RefObject, type JSX\n} from 'react';\n\nimport { overwriteArray, overwriteObject, uniq } from '@ckeditor/ckeditor5-integrations-common';\n\nimport type {\n\tInlineEditableUIView,\n\tEditorConfig,\n\tModelWriter,\n\tModelRootElement,\n\tWatchdogConfig,\n\tAddRootEvent,\n\tDetachRootEvent,\n\tMultiRootEditor,\n\tEventInfo\n} from 'ckeditor5';\n\nimport { ContextWatchdogContext, isContextWatchdogReadyToUse } from './context/ckeditorcontext.js';\nimport { EditorWatchdogAdapter } from './ckeditor.js';\n\nimport type { EditorSemaphoreMountResult } from './lifecycle/LifeCycleEditorSemaphore.js';\n\nimport { useLifeCycleSemaphoreSyncRef, type LifeCycleSemaphoreSyncRefResult } from './lifecycle/useLifeCycleSemaphoreSyncRef.js';\nimport { mergeRefs } from './utils/mergeRefs.js';\nimport { LifeCycleElementSemaphore } from './lifecycle/LifeCycleElementSemaphore.js';\nimport { useRefSafeCallback } from './hooks/useRefSafeCallback.js';\nimport { useInstantEditorEffect } from './hooks/useInstantEditorEffect.js';\n\nimport { appendAllIntegrationPluginsToConfig } from './plugins/appendAllIntegrationPluginsToConfig.js';\n\nconst REACT_INTEGRATION_READ_ONLY_LOCK_ID = 'Lock from React integration (@ckeditor/ckeditor5-react)';\n\n/* eslint-disable @typescript-eslint/no-use-before-define */\nconst useMultiRootEditor = ( props: MultiRootHookProps ): MultiRootHookReturns => {\n\tconst semaphoreElementRef = useRef<HTMLElement>( props.semaphoreElement || null );\n\tconst semaphore = useLifeCycleSemaphoreSyncRef<LifeCycleMountResult>();\n\n\tconst editorRefs: LifeCycleSemaphoreRefs<MultiRootEditor> = {\n\t\twatchdog: semaphore.createAttributeRef( 'watchdog' ),\n\t\tinstance: semaphore.createAttributeRef( 'instance' )\n\t};\n\n\tconst context = useContext( ContextWatchdogContext );\n\n\t// List of editor root elements.\n\tconst [ roots, setRoots ] = useState<Array<string>>( () => Object.keys( props.data ) );\n\n\t// Current editor data. An object where each key is a root name and the value is the root content.\n\tconst [ data, setData ] = useState<Record<string, string>>( { ...props.data } );\n\n\t// Current roots attributes. An object where each key is a root name and the value is an object with root attributes.\n\tconst [ attributes, setAttributes ] = useState<Record<string, Record<string, unknown>>>( { ...props.rootsAttributes } );\n\n\tconst shouldUpdateEditor = useRef<boolean>( true );\n\n\t/**\n\t * It's possible to unmount `useMultiRootEditor` with created editor and `elements` that are not attached to any React node.\n\t * It means that CKEditor will try to destroy editor and all it's roots in destructor. It will throw an error because\n\t * `editables` are not attached to any React node and their elements references are null. To prevent this error we need to\n\t * force assign `editables` to fake elements before destroying editor.\n\t *\n\t * See: https://github.com/ckeditor/ckeditor5/issues/16561\n\t */\n\tconst forceAssignFakeEditableElements = () => {\n\t\tconst editor = editorRefs.instance.current;\n\n\t\tif ( !editor ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst initializeEditableWithFakeElement = ( editable: InlineEditableUIView ) => {\n\t\t\tif ( editable.name && !editor.editing.view.getDomRoot( editable.name ) ) {\n\t\t\t\teditor.editing.view.attachDomRoot( document.createElement( 'div' ), editable.name );\n\t\t\t}\n\t\t};\n\n\t\tObject\n\t\t\t.values( editor.ui.view.editables )\n\t\t\t.forEach( initializeEditableWithFakeElement );\n\t};\n\n\tuseEffect( () => {\n\t\tconst semaphoreElement = semaphoreElementRef.current;\n\n\t\t// Check if parent context is ready (only if it is provided).\n\t\tif ( context && !isContextWatchdogReadyToUse( context ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if hook internal state or attributes are not ready yet.\n\t\tif ( !semaphoreElement || props.isLayoutReady === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsemaphore.replace( () => new LifeCycleElementSemaphore( semaphoreElement, {\n\t\t\tmount: _initializeEditor,\n\t\t\tafterMount: ( { mountResult } ) => {\n\t\t\t\tconst { onReady } = props;\n\n\t\t\t\tif ( onReady && semaphoreElementRef.current !== null ) {\n\t\t\t\t\tonReady( mountResult.instance );\n\t\t\t\t}\n\t\t\t},\n\t\t\tunmount: async ( { element, mountResult } ) => {\n\t\t\t\tconst { onAfterDestroy } = props;\n\n\t\t\t\ttry {\n\t\t\t\t\tawait _destroyEditor( mountResult );\n\n\t\t\t\t\t/**\n\t\t\t\t\t * Make sure that nothing left in actual editor element. There can be custom integrations that\n\t\t\t\t\t * appends something to container. Let's reset element every update cycle before mounting another\n\t\t\t\t\t * editor instance.\n\t\t\t\t\t */\n\t\t\t\t\telement.innerHTML = '';\n\t\t\t\t} finally {\n\t\t\t\t\t/**\n\t\t\t\t\t * Broadcast information about destroying current instance. It is useful for removing duplicated\n\t\t\t\t\t * toolbars in decoupled editor mode.\n\t\t\t\t\t */\n\t\t\t\t\tif ( onAfterDestroy ) {\n\t\t\t\t\t\tonAfterDestroy( mountResult.instance );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} ) );\n\n\t\treturn () => {\n\t\t\tforceAssignFakeEditableElements();\n\t\t\tsemaphore.release( false );\n\t\t};\n\t}, [ props.id, props.isLayoutReady, context?.status ] );\n\n\t/**\n\t * Returns the editor configuration.\n\t */\n\tconst _getConfig = (): EditorConfig => {\n\t\tconst config = props.config || {};\n\n\t\tif ( props.data && config.initialData ) {\n\t\t\tconsole.warn(\n\t\t\t\t'Editor data should be provided either using `config.initialData` or `data` property. ' +\n\t\t\t\t'The config value takes precedence over `data` property and will be used when both are specified.'\n\t\t\t);\n\t\t}\n\n\t\treturn {\n\t\t\t...config,\n\t\t\trootsAttributes: attributes\n\t\t};\n\t};\n\n\t/**\n\t * Callback function for handling changed data and attributes in the editor.\n\t */\n\tconst onChangeData = useRefSafeCallback( ( editor: MultiRootEditor, event: EventInfo ): void => {\n\t\tconst modelDocument = editor!.model.document;\n\n\t\tif ( !props.disableTwoWayDataBinding ) {\n\t\t\tconst newData: Record<string, string> = {};\n\t\t\tconst newAttributes: Record<string, Record<string, unknown>> = {};\n\n\t\t\tmodelDocument.differ.getChanges()\n\t\t\t\t.forEach( change => {\n\t\t\t\t\tlet root: ModelRootElement;\n\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( change.type == 'insert' || change.type == 'remove' ) {\n\t\t\t\t\t\troot = change.position.root as ModelRootElement;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Must be `attribute` diff item.\n\t\t\t\t\t\troot = change.range.root as ModelRootElement;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Getting data from a not attached root will trigger a warning.\n\t\t\t\t\t// There is another callback for handling detached roots.\n\t\t\t\t\tif ( !root.isAttached() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst { rootName } = root;\n\n\t\t\t\t\tnewData[ rootName ] = editor!.getData( { rootName } );\n\t\t\t\t} );\n\n\t\t\tmodelDocument.differ.getChangedRoots()\n\t\t\t\t.forEach( changedRoot => {\n\t\t\t\t\t// Ignore added and removed roots. They are handled by a different function.\n\t\t\t\t\t// Only register if roots attributes changed.\n\t\t\t\t\tif ( changedRoot.state ) {\n\t\t\t\t\t\tif ( newData[ changedRoot.name ] !== undefined ) {\n\t\t\t\t\t\t\tdelete newData[ changedRoot.name ];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst rootName = changedRoot.name;\n\n\t\t\t\t\tnewAttributes[ rootName ] = editor!.getRootAttributes( rootName );\n\t\t\t\t} );\n\n\t\t\tif ( Object.keys( newData ).length ) {\n\t\t\t\tsetData( previousData => ( { ...previousData, ...newData } ) );\n\t\t\t}\n\n\t\t\tif ( Object.keys( newAttributes ).length ) {\n\t\t\t\tsetAttributes( previousAttributes => ( { ...previousAttributes, ...newAttributes } ) );\n\t\t\t}\n\t\t}\n\n\t\t/* istanbul ignore else -- @preserve */\n\t\tif ( props.onChange ) {\n\t\t\tprops.onChange( event, editor! );\n\t\t}\n\t} );\n\n\t/**\n\t * Callback function for handling an added root.\n\t */\n\tconst onAddRoot = useRefSafeCallback( ( editor: MultiRootEditor, _evt: EventInfo, root: ModelRootElement ): void => {\n\t\tconst rootName = root.rootName;\n\n\t\tif ( !props.disableTwoWayDataBinding ) {\n\t\t\tsetData( previousData =>\n\t\t\t\t( { ...previousData, [ rootName ]: editor!.getData( { rootName } ) } )\n\t\t\t);\n\n\t\t\tsetAttributes( previousAttributes =>\n\t\t\t\t( { ...previousAttributes, [ rootName ]: editor!.getRootAttributes( rootName ) } )\n\t\t\t);\n\t\t}\n\n\t\tsetRoots( prevRoots => uniq( [ ...prevRoots, root.rootName ] ) );\n\t} );\n\n\t/**\n\t * Callback function for handling a detached root.\n\t */\n\tconst onDetachRoot = useRefSafeCallback( ( _editor: MultiRootEditor, _evt: EventInfo, root: ModelRootElement ): void => {\n\t\tconst rootName = root.rootName;\n\n\t\tif ( !props.disableTwoWayDataBinding ) {\n\t\t\tsetData( previousData => {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\t\t\tconst { [ rootName! ]: _, ...newData } = previousData;\n\n\t\t\t\treturn { ...newData };\n\t\t\t} );\n\n\t\t\tsetAttributes( previousAttributes => {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\t\t\tconst { [ rootName! ]: _, ...newAttributes } = previousAttributes;\n\n\t\t\t\treturn { ...newAttributes };\n\t\t\t} );\n\t\t}\n\n\t\tsetRoots( prevRoots => prevRoots.filter( root => root !== rootName ) );\n\t} );\n\n\t/**\n\t * Creates an editor using initial elements or data, and configuration.\n\t *\n\t * @param initialData The initial data.\n\t * @param config CKEditor 5 editor configuration.\n\t */\n\tconst _createEditor = useRefSafeCallback( (\n\t\tinitialData: Record<string, string> | Record<string, HTMLElement>,\n\t\tconfig: EditorConfig\n\t): Promise<MultiRootEditor> => {\n\t\toverwriteObject( { ...props.rootsAttributes }, attributes );\n\t\toverwriteObject( { ...props.data }, data );\n\t\toverwriteArray( Object.keys( props.data ), roots );\n\n\t\treturn props.editor.create(\n\t\t\tinitialData,\n\t\t\tappendAllIntegrationPluginsToConfig( config )\n\t\t)\n\t\t\t.then( ( editor: MultiRootEditor ) => {\n\t\t\t\tconst editorData = editor.getFullData();\n\n\t\t\t\t// Rerender will be called anyway.\n\t\t\t\toverwriteObject( { ...editorData }, data );\n\t\t\t\toverwriteObject( { ...editor.getRootsAttributes() }, attributes );\n\t\t\t\toverwriteArray( Object.keys( editorData ), roots );\n\n\t\t\t\tif ( props.disabled ) {\n\t\t\t\t\t// Switch to the read-only mode if the `[disabled]` attribute is specified.\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\teditor.enableReadOnlyMode( REACT_INTEGRATION_READ_ONLY_LOCK_ID );\n\t\t\t\t}\n\n\t\t\t\tconst modelDocument = editor.model.document;\n\t\t\t\tconst viewDocument = editor.editing.view.document;\n\n\t\t\t\tmodelDocument.on( 'change:data', evt => onChangeData( editor, evt ) );\n\n\t\t\t\teditor.on<AddRootEvent>( 'addRoot', ( evt, root ) => onAddRoot( editor, evt, root ) );\n\t\t\t\teditor.on<DetachRootEvent>( 'detachRoot', ( evt, root ) => onDetachRoot( editor, evt, root ) );\n\n\t\t\t\tviewDocument.on( 'focus', event => {\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( props.onFocus ) {\n\t\t\t\t\t\tprops.onFocus( event, editor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tviewDocument.on( 'blur', event => {\n\t\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\t\tif ( props.onBlur ) {\n\t\t\t\t\t\tprops.onBlur( event, editor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\treturn editor;\n\t\t\t} );\n\t} );\n\n\t/**\n\t * Destroys the editor by destroying the watchdog.\n\t */\n\tconst _destroyEditor = ( initializeResult: EditorSemaphoreMountResult<MultiRootEditor> ): Promise<void> => {\n\t\tconst { watchdog, instance } = initializeResult;\n\n\t\treturn new Promise<void>( ( resolve, reject ) => {\n\t\t\t// It may happen during the tests that the watchdog instance is not assigned before destroying itself. See: #197.\n\t\t\t//\n\t\t\t// Additionally, we need to find a way to detect if the whole context has been destroyed. As `componentWillUnmount()`\n\t\t\t// could be fired by <CKEditorContext /> and <CKEditor /> at the same time, this `setTimeout()` makes sure\n\t\t\t// that <CKEditorContext /> component will be destroyed first, so during the code execution\n\t\t\t// the `ContextWatchdog#state` would have a correct value. See `EditorWatchdogAdapter#destroy()` for more information.\n\t\t\t/* istanbul ignore next -- @preserve */\n\t\t\tsetTimeout( async () => {\n\t\t\t\ttry {\n\t\t\t\t\tif ( watchdog ) {\n\t\t\t\t\t\tawait watchdog.destroy();\n\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( instance ) {\n\t\t\t\t\t\tawait instance.destroy();\n\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve();\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tconsole.error( e );\n\t\t\t\t\treject( e );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t};\n\n\t/**\n\t * Initializes the editor by creating a proper watchdog and initializing it with the editor's configuration.\n\t */\n\tconst _initializeEditor = async (): Promise<LifeCycleMountResult> => {\n\t\tif ( props.disableWatchdog ) {\n\t\t\tconst instance = await _createEditor( props.data as any, _getConfig() );\n\n\t\t\treturn {\n\t\t\t\tinstance: instance as MultiRootEditor,\n\t\t\t\twatchdog: null\n\t\t\t};\n\t\t}\n\n\t\tconst watchdog = ( () => {\n\t\t\tif ( isContextWatchdogReadyToUse( context ) ) {\n\t\t\t\treturn new EditorWatchdogAdapter( context.watchdog );\n\t\t\t}\n\n\t\t\treturn new props.editor.EditorWatchdog( props.editor, props.watchdogConfig );\n\t\t} )() as EditorWatchdogAdapter<MultiRootEditor>;\n\n\t\tconst totalRestartsRef = {\n\t\t\tcurrent: 0\n\t\t};\n\n\t\t// Keeping using `data` from creator function callback seems to be a good idea in theory,\n\t\t// but in practice, it leads to instability. The `data` object can be changed during the editor\n\t\t// initialization, which can lead to unexpected reset of value in the editor, that do not match\n\t\t// with the current react state. To prevent this, we are using the `data` from the hook state.\n\t\t// It's not super optimal, but it's the most stable solution at this moment.\n\t\t// See more: https://github.com/ckeditor/ckeditor5-react/issues/542\n\t\twatchdog.setCreator( async ( _, config ) => {\n\t\t\tconst { onAfterDestroy } = props;\n\n\t\t\tif ( totalRestartsRef.current > 0 && onAfterDestroy && editorRefs.instance.current ) {\n\t\t\t\tonAfterDestroy( editorRefs.instance.current );\n\t\t\t}\n\n\t\t\tconst instance = await _createEditor( data as any, config );\n\n\t\t\tif ( totalRestartsRef.current > 0 ) {\n\t\t\t\tsemaphore.unsafeSetValue( {\n\t\t\t\t\tinstance,\n\t\t\t\t\twatchdog\n\t\t\t\t} );\n\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t/* istanbul ignore next -- @preserve */\n\t\t\t\t\tif ( props.onReady ) {\n\t\t\t\t\t\tprops.onReady( watchdog!.editor );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\ttotalRestartsRef.current++;\n\t\t\treturn instance;\n\t\t} );\n\n\t\twatchdog.on( 'error', ( _, { error, causesRestart } ) => {\n\t\t\tconst onError = props.onError || console.error;\n\t\t\tonError( error, { phase: 'runtime', willEditorRestart: causesRestart } );\n\t\t} );\n\n\t\tawait watchdog\n\t\t\t.create( data as any, _getConfig() )\n\t\t\t.catch( error => {\n\t\t\t\tconst onError = props.onError || console.error;\n\t\t\t\tonError( error, { phase: 'initialization', willEditorRestart: false } );\n\t\t\t\tthrow error;\n\t\t\t} );\n\n\t\treturn {\n\t\t\twatchdog,\n\t\t\tinstance: watchdog!.editor\n\t\t};\n\t};\n\n\tconst _getStateDiff = (\n\t\tpreviousState: Record<string, unknown>,\n\t\tnewState: Record<string, unknown>\n\t): {\n\t\taddedKeys: Array<string>;\n\t\tremovedKeys: Array<string>;\n\t} => {\n\t\tconst previousStateKeys = Object.keys( previousState );\n\t\tconst newStateKeys = Object.keys( newState );\n\n\t\treturn {\n\t\t\taddedKeys: newStateKeys.filter( key => !previousStateKeys.includes( key ) ),\n\t\t\tremovedKeys: previousStateKeys.filter( key => !newStateKeys.includes( key ) )\n\t\t};\n\t};\n\n\tconst _externalSetData: Dispatch<SetStateAction<Record<string, string>>> = useCallback(\n\t\tnewData => {\n\t\t\tsemaphore.runAfterMount( () => {\n\t\t\t\tshouldUpdateEditor.current = true;\n\t\t\t\tsetData( newData );\n\t\t\t} );\n\t\t},\n\t\t[ setData ]\n\t);\n\n\tconst _externalSetAttributes: Dispatch<SetStateAction<Record<string, Record<string, unknown>>>> = useCallback(\n\t\tnewAttributes => {\n\t\t\tsemaphore.runAfterMount( () => {\n\t\t\t\tshouldUpdateEditor.current = true;\n\t\t\t\tsetAttributes( newAttributes );\n\t\t\t} );\n\t\t},\n\t\t[ setAttributes ]\n\t);\n\n\tconst toolbarElement = (\n\t\t<EditorToolbarWrapper\n\t\t\tref={ semaphoreElementRef }\n\t\t\teditor={editorRefs.instance.current}\n\t\t/>\n\t);\n\n\tuseInstantEditorEffect( semaphore.current, ( { instance } ) => {\n\t\tif ( props.disabled ) {\n\t\t\tinstance.enableReadOnlyMode( REACT_INTEGRATION_READ_ONLY_LOCK_ID );\n\t\t} else {\n\t\t\tinstance.disableReadOnlyMode( REACT_INTEGRATION_READ_ONLY_LOCK_ID );\n\t\t}\n\t}, [ props.disabled ] );\n\n\tuseInstantEditorEffect( semaphore.current, ( { instance } ) => {\n\t\t// Editor should be only updated when the changes come from the integrator React application.\n\t\tif ( shouldUpdateEditor.current ) {\n\t\t\tshouldUpdateEditor.current = false;\n\n\t\t\tconst dataKeys = Object.keys( data );\n\t\t\tconst attributesKeys = Object.keys( attributes );\n\n\t\t\t// Check if `data` and `attributes` have the same keys.\n\t\t\t//\n\t\t\t// It prevents the addition of attributes for non-existing roots.\n\t\t\t// If the `data` object has a different set of keys, an error will not be thrown\n\t\t\t// since the attributes will be removed/added during root initialization/destruction.\n\t\t\tif ( !dataKeys.every( key => attributesKeys.includes( key ) ) ) {\n\t\t\t\tconsole.error( '`data` and `attributes` objects must have the same keys (roots).' );\n\t\t\t\tthrow new Error( '`data` and `attributes` objects must have the same keys (roots).' );\n\t\t\t}\n\n\t\t\tconst editorData = instance.getFullData();\n\t\t\tconst editorAttributes = instance.getRootsAttributes();\n\n\t\t\tconst {\n\t\t\t\taddedKeys: newRoots,\n\t\t\t\tremovedKeys: removedRoots\n\t\t\t} = _getStateDiff(\n\t\t\t\teditorData,\n\t\t\t\tdata || /* istanbul ignore next -- @preserve: It should never happen, data should be always filled. */ {}\n\t\t\t);\n\n\t\t\tconst modifiedRoots = dataKeys.filter( rootName =>\n\t\t\t\teditorData[ rootName ] !== undefined &&\n\t\t\t\tJSON.stringify( editorData[ rootName ] ) !== JSON.stringify( data[ rootName ] )\n\t\t\t);\n\n\t\t\tconst rootsWithChangedAttributes = attributesKeys.filter( rootName =>\n\t\t\t\tJSON.stringify( editorAttributes[ rootName ] ) !== JSON.stringify( attributes[ rootName ] ) );\n\n\t\t\tconst _handleNewRoots = ( roots: Array<string> ) => {\n\t\t\t\troots.forEach( rootName => {\n\t\t\t\t\tinstance!.addRoot( rootName, {\n\t\t\t\t\t\tdata: data[ rootName ] || '',\n\t\t\t\t\t\tattributes: attributes?.[ rootName ] ||\n\t\t\t\t\t\t/* istanbul ignore next -- @preserve: attributes should be in sync with root keys */ {},\n\t\t\t\t\t\tisUndoable: true\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\tconst _handleRemovedRoots = ( roots: Array<string> ) => {\n\t\t\t\troots.forEach( rootName => {\n\t\t\t\t\tinstance!.detachRoot( rootName, true );\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\tconst _updateEditorData = ( roots: Array<string> ) => {\n\t\t\t\tconst dataToUpdate = roots.reduce(\n\t\t\t\t\t( result, rootName ) => ( { ...result, [ rootName ]: data[ rootName ] } ),\n\t\t\t\t\tObject.create( null )\n\t\t\t\t);\n\t\t\t\tinstance.data.set( dataToUpdate, { suppressErrorInCollaboration: true } as any );\n\t\t\t};\n\n\t\t\tconst _updateEditorAttributes = ( writer: ModelWriter, roots: Array<string> ) => {\n\t\t\t\troots.forEach( rootName => {\n\t\t\t\t\tObject.keys( attributes![ rootName ] ).forEach( attr => {\n\t\t\t\t\t\tinstance.registerRootAttribute( attr );\n\t\t\t\t\t} );\n\n\t\t\t\t\twriter.clearAttributes( instance.model.document.getRoot( rootName )! );\n\t\t\t\t\twriter.setAttributes( attributes![ rootName ], instance.model.document.getRoot( rootName )! );\n\t\t\t\t} );\n\t\t\t};\n\n\t\t\t// React struggles with rerendering during `instance.model.change` callbacks.\n\t\t\tsetTimeout( () => {\n\t\t\t\tinstance.model.change( writer => {\n\t\t\t\t\t_handleNewRoots( newRoots );\n\t\t\t\t\t_handleRemovedRoots( removedRoots );\n\n\t\t\t\t\tif ( modifiedRoots.length ) {\n\t\t\t\t\t\t_updateEditorData( modifiedRoots );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( rootsWithChangedAttributes.length ) {\n\t\t\t\t\t\t_updateEditorAttributes( writer, rootsWithChangedAttributes );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t}, [ data, attributes ] );\n\n\tconst editableElements = roots.map(\n\t\trootName => (\n\t\t\t<EditorEditable\n\t\t\t\tkey={rootName}\n\t\t\t\tid={rootName}\n\t\t\t\trootName={rootName}\n\t\t\t\tsemaphore={semaphore}\n\t\t\t/>\n\t\t)\n\t);\n\n\treturn {\n\t\teditor: editorRefs.instance.current,\n\t\teditableElements,\n\t\ttoolbarElement,\n\t\tdata, setData: _externalSetData,\n\t\tattributes, setAttributes: _externalSetAttributes\n\t};\n};\n\nexport const EditorEditable = memo( forwardRef( ( { id, semaphore, rootName }: {\n\tid: string;\n\trootName: string;\n\tsemaphore: LifeCycleSemaphoreSyncRefResult<LifeCycleMountResult>;\n}, ref ) => {\n\tconst innerRef = useRef<HTMLDivElement>( null );\n\n\tuseEffect( () => {\n\t\tlet editable: InlineEditableUIView | null;\n\t\tlet editor: MultiRootEditor | null;\n\n\t\tsemaphore.runAfterMount( ( { instance } ) => {\n\t\t\tif ( !innerRef.current ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor = instance;\n\n\t\t\tconst { ui, model } = editor;\n\t\t\tconst root = model.document.getRoot( rootName );\n\n\t\t\tif ( root && editor.ui.getEditableElement( rootName ) ) {\n\t\t\t\teditor.detachEditable( root );\n\t\t\t}\n\n\t\t\teditable = ui.view.createEditable( rootName, innerRef.current );\n\t\t\tui.addEditable( editable );\n\n\t\t\tinstance.editing.view.forceRender();\n\t\t} );\n\n\t\treturn () => {\n\t\t\t/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */\n\t\t\tif ( editor && editor.state !== 'destroyed' && innerRef.current ) {\n\t\t\t\tconst root = editor.model.document.getRoot( rootName );\n\n\t\t\t\t/* istanbul ignore else -- @preserve */\n\t\t\t\tif ( root ) {\n\t\t\t\t\teditor.detachEditable( root );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, [ semaphore.revision ] );\n\n\treturn (\n\t\t<div\n\t\t\tkey={semaphore.revision}\n\t\t\tid={id}\n\t\t\tref={ mergeRefs( ref, innerRef ) }\n\t\t/>\n\t);\n} ) );\n\nEditorEditable.displayName = 'EditorEditable';\n\nexport const EditorToolbarWrapper = forwardRef( ( { editor }: any, ref ) => {\n\tconst toolbarRef = useRef<HTMLDivElement>( null );\n\n\tuseEffect( () => {\n\t\tconst toolbarContainer = toolbarRef.current;\n\n\t\tif ( !editor || !toolbarContainer ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst element = editor.ui.view.toolbar.element!;\n\n\t\ttoolbarContainer.appendChild( element! );\n\n\t\treturn () => {\n\t\t\tif ( toolbarContainer.contains( element ) ) {\n\t\t\t\ttoolbarContainer.removeChild( element! );\n\t\t\t}\n\t\t};\n\t}, [ editor && editor.id ] );\n\n\treturn <div ref={mergeRefs( toolbarRef, ref )}></div>;\n} );\n\nEditorToolbarWrapper.displayName = 'EditorToolbarWrapper';\n\nexport default useMultiRootEditor;\n\ntype LifeCycleMountResult = EditorSemaphoreMountResult<MultiRootEditor>;\n\ntype LifeCycleSemaphoreRefs<TEditor extends MultiRootEditor> = {\n\t[ K in keyof EditorSemaphoreMountResult<TEditor> ]: RefObject<EditorSemaphoreMountResult<TEditor>[ K ]>\n};\n\ninterface ErrorDetails {\n\tphase: 'initialization' | 'runtime';\n\twillEditorRestart?: boolean;\n}\n\nexport type MultiRootHookProps = {\n\tid?: any;\n\tsemaphoreElement?: HTMLElement;\n\n\tisLayoutReady?: boolean;\n\tdisabled?: boolean;\n\tdata: Record<string, string>;\n\trootsAttributes?: Record<string, Record<string, unknown>>;\n\teditor: typeof MultiRootEditor;\n\twatchdogConfig?: WatchdogConfig;\n\tdisableWatchdog?: boolean;\n\tdisableTwoWayDataBinding?: boolean;\n\n\tonReady?: ( editor: MultiRootEditor ) => void;\n\tonAfterDestroy?: ( editor: MultiRootEditor ) => void;\n\tonError?: ( error: Error, details: ErrorDetails ) => void;\n\tonChange?: ( event: EventInfo, editor: MultiRootEditor ) => void;\n\tonFocus?: ( event: EventInfo, editor: MultiRootEditor ) => void;\n\tonBlur?: ( event: EventInfo, editor: MultiRootEditor ) => void;\n\n\tconfig?: Record<string, unknown>;\n};\n\nexport type MultiRootHookReturns = {\n\teditor: MultiRootEditor | null;\n\teditableElements: Array<JSX.Element>;\n\ttoolbarElement: JSX.Element;\n\tdata: Record<string, string>;\n\tsetData: Dispatch<SetStateAction<Record<string, string>>>;\n\tattributes: Record<string, Record<string, unknown>>;\n\tsetAttributes: Dispatch<SetStateAction<Record<string, Record<string, unknown>>>>;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useEffect, useRef, type MutableRefObject } from 'react';\n\n/**\n * Custom hook that returns a mutable ref object indicating whether the component is unmounted or not.\n *\n * @returns The mutable ref object.\n */\nexport const useIsUnmountedRef = (): MutableRefObject<boolean> => {\n\tconst mountedRef = useRef<boolean>( false );\n\n\tuseEffect( () => {\n\t\t// Prevent issues in strict mode.\n\t\tmountedRef.current = false;\n\n\t\treturn () => {\n\t\t\tmountedRef.current = true;\n\t\t};\n\t}, [] );\n\n\treturn mountedRef;\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport { useState, useRef } from 'react';\nimport { uid, isSSR } from '@ckeditor/ckeditor5-integrations-common';\n\nimport { useIsUnmountedRef } from './useIsUnmountedRef.js';\nimport { useRefSafeCallback } from './useRefSafeCallback.js';\n\n/**\n * A hook that allows to execute an asynchronous function and provides the state of the execution.\n *\n * @param callback The asynchronous function to be executed.\n * @returns A tuple with the function that triggers the execution and the state of the execution.\n *\n * @example\n * ```tsx\n * const [ onFetchData, fetchDataStatus ] = useAsyncCallback( async () => {\n * \tconst response = await fetch( 'https://api.example.com/data' );\n * \tconst data = await response.json();\n * \treturn data;\n * } );\n *\n * return (\n * \t<div>\n * \t\t<button onClick={ onFetchData }>Fetch data</button>\n * \t\t{ fetchDataStatus.status === 'loading' && <p>Loading...</p> }\n * \t\t{ fetchDataStatus.status === 'success' && <pre>{ JSON.stringify( fetchDataStatus.data, null, 2 ) }</pre> }\n * \t\t{ fetchDataStatus.status === 'error' && <p>Error: { fetchDataStatus.error.message }</p> }\n * \t</div>\n * );\n * ```\n */\nexport const useAsyncCallback = <A extends Array<unknown>, R>(\n\tcallback: ( ...args: A ) => Promise<R>\n): AsyncCallbackHookResult<A, R> => {\n\t// The state of the asynchronous callback.\n\tconst [ asyncState, setAsyncState ] = useState<AsyncCallbackState<R>>( {\n\t\tstatus: 'idle'\n\t} );\n\n\t// A reference to the mounted state of the component.\n\tconst unmountedRef = useIsUnmountedRef();\n\n\t// A reference to the previous execution UUID. It is used to prevent race conditions between multiple executions\n\t// of the asynchronous function. If the UUID of the current execution is different than the UUID of the previous\n\t// execution, the state is not updated.\n\tconst prevExecutionUIDRef = useRef<string | null>( null );\n\n\t// The asynchronous executor function, which is a wrapped version of the original callback.\n\tconst asyncExecutor = useRefSafeCallback( async ( ...args: A ) => {\n\t\tif ( unmountedRef.current || isSSR() ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst currentExecutionUUID = uid();\n\t\tprevExecutionUIDRef.current = currentExecutionUUID;\n\n\t\ttry {\n\t\t\t// Prevent unnecessary state updates, keep loading state if the status is already 'loading'.\n\t\t\tif ( asyncState.status !== 'loading' ) {\n\t\t\t\tsetAsyncState( {\n\t\t\t\t\tstatus: 'loading'\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Execute the asynchronous function.\n\t\t\tconst result = await callback( ...args );\n\n\t\t\t// Update the state if the component is still mounted and the execution UUID matches the previous one, otherwise\n\t\t\t// ignore the result and keep the previous state.\n\t\t\tif ( !unmountedRef.current && prevExecutionUIDRef.current === currentExecutionUUID ) {\n\t\t\t\tsetAsyncState( {\n\t\t\t\t\tstatus: 'success',\n\t\t\t\t\tdata: result\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} catch ( error: any ) {\n\t\t\tconsole.error( error );\n\n\t\t\t// Update the state if the component is still mounted and the execution UUID matches the previous one, otherwise\n\t\t\tif ( !unmountedRef.current && prevExecutionUIDRef.current === currentExecutionUUID ) {\n\t\t\t\tsetAsyncState( {\n\t\t\t\t\tstatus: 'error',\n\t\t\t\t\terror\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t} );\n\n\treturn [ asyncExecutor, asyncState ] as AsyncCallbackHookResult<A, R>;\n};\n\n/**\n * Represents the result of the `useAsyncCallback` hook.\n */\nexport type AsyncCallbackHookResult<A extends Array<unknown>, R> = [\n\t( ...args: A ) => Promise<R | null>,\n\tAsyncCallbackState<R>\n];\n\n/**\n * Represents the state of an asynchronous callback.\n */\nexport type AsyncCallbackState<T> =\n\t| {\n\t\tstatus: 'idle';\n\t}\n\t| {\n\t\tstatus: 'loading';\n\t}\n\t| {\n\t\tstatus: 'success';\n\t\tdata: T;\n\t}\n\t| {\n\t\tstatus: 'error';\n\t\terror: any;\n\t};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport type { DependencyList } from 'react';\n\nimport { useAsyncCallback, type AsyncCallbackState } from './useAsyncCallback.js';\nimport { useInstantEffect } from './useInstantEffect.js';\n\n/**\n * A hook that allows to execute an asynchronous function and provides the state of the execution.\n * The asynchronous function is executed immediately after the component is mounted.\n *\n * @param callback The asynchronous function to be executed.\n * @param deps The dependency list.\n * @returns The state of the execution.\n *\n * @example\n * ```tsx\n * const asyncFetchState = useAsyncValue( async () => {\n * \tconst response = await fetch( 'https://api.example.com/data' );\n * \tconst data = await response.json();\n * \treturn data;\n * }, [] );\n *\n * if ( asyncFetchState.status === 'loading' ) {\n * \treturn <p>Loading...</p>;\n * }\n *\n * if ( asyncFetchState.status === 'success' ) {\n * \treturn <pre>{ JSON.stringify( asyncFetchState.data, null, 2 ) }</pre>;\n * }\n *\n * if ( asyncFetchState.status === 'error' ) {\n * \treturn <p>Error: { asyncFetchState.error.message }</p>;\n * }\n * ```\n */\nexport const useAsyncValue = <R>(\n\tcallback: () => Promise<R>,\n\tdeps: DependencyList\n): AsyncValueHookResult<R> => {\n\tconst [ asyncCallback, asyncState ] = useAsyncCallback( callback );\n\n\tuseInstantEffect( asyncCallback, deps );\n\n\t// There might be short delay between the effect and the state update.\n\t// So it is possible that the status is still 'idle' after the effect.\n\t// In such case, we should return 'loading' status because the effect is already queued to be executed.\n\tif ( asyncState.status === 'idle' ) {\n\t\treturn {\n\t\t\tstatus: 'loading'\n\t\t};\n\t}\n\n\treturn asyncState;\n};\n\n/**\n * The result of the `useAsyncValue` hook.\n */\nexport type AsyncValueHookResult<R> = Exclude<AsyncCallbackState<R>, { status: 'idle' }>;\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport {\n\tloadCKEditorCloud,\n\ttype CKEditorCloudConfig,\n\ttype CKEditorCloudResult\n} from '@ckeditor/ckeditor5-integrations-common';\n\nimport { useAsyncValue, type AsyncValueHookResult } from '../hooks/useAsyncValue.js';\n\n/**\n * Hook that loads CKEditor bundles from CDN.\n *\n * @template Config The type of the CKEditor Cloud configuration.\n * @param config The configuration of the hook.\n * @returns The state of async operation that resolves to the CKEditor bundles.\n * @example\n *\n * ```ts\n * const cloud = useCKEditorCloud( {\n * \tversion: '42.0.0',\n * \ttranslations: [ 'es', 'de' ],\n * \tpremium: true\n * } );\n *\n * if ( cloud.status === 'success' ) {\n * \tconst { ClassicEditor, Bold, Essentials } = cloud.CKEditor;\n * \tconst { SlashCommand } = cloud.CKEditorPremiumFeatures;\n * }\n * ```\n */\nexport default function useCKEditorCloud<Config extends CKEditorCloudConfig>(\n\tconfig: Config\n): CKEditorCloudHookResult<Config> {\n\t// Serialize the config to a string to fast compare if there was a change and re-render is needed.\n\tconst serializedConfigKey = JSON.stringify( config );\n\n\t// Fetch the CKEditor Cloud Services bundles on every modification of config.\n\tconst result = useAsyncValue(\n\t\tasync (): Promise<CKEditorCloudResult<Config>> => loadCKEditorCloud( config ),\n\t\t[ serializedConfigKey ]\n\t);\n\n\t// Expose a bit better API for the hook consumers, so they don't need to access the constructor through the `data` property.\n\tif ( result.status === 'success' ) {\n\t\treturn {\n\t\t\t...result.data,\n\t\t\tstatus: 'success'\n\t\t};\n\t}\n\n\treturn result;\n}\n\n/**\n * The result of the `useCKEditorCloud` hook. It changes success state to be more intuitive.\n */\ntype CKEditorCloudHookResult<Config extends CKEditorCloudConfig> =\n\t| Exclude<AsyncValueHookResult<CKEditorCloudResult<Config>>, { status: 'success' }>\n\t| ( CKEditorCloudResult<Config> & { status: 'success' } );\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\nimport React, { type ReactNode, type ComponentType } from 'react';\nimport type {\n\tCKEditorCloudConfig,\n\tCKEditorCloudResult\n} from '@ckeditor/ckeditor5-integrations-common';\n\nimport useCKEditorCloud from './useCKEditorCloud.js';\n\n/**\n * HOC that injects the CKEditor Cloud integration into a component.\n *\n * @template A The type of the additional resources to load.\n * @param config The configuration of the CKEditor Cloud integration.\n * @returns A function that injects the CKEditor Cloud integration into a component.\n * @example\n\n * ```tsx\n * const withCKCloud = withCKEditorCloud( {\n * \tcloud: {\n * \t\tversion: '42.0.0',\n * \t\ttranslations: [ 'es', 'de' ],\n * \t\tpremium: true\n * \t}\n * } );\n *\n * const MyComponent = withCKCloud( ( { cloud } ) => {\n * \tconst { Paragraph } = cloud.CKEditor;\n * \tconst { SlashCommands } = cloud.CKEditorPremiumFeatures;\n * \tconst { YourPlugin } = cloud.CKPlugins;\n *\n * \treturn <div>CKEditor Cloud is loaded!</div>;\n * } );\n * ```\n */\nconst withCKEditorCloud = <Config extends CKEditorCloudConfig>( config: CKEditorCloudHocConfig<Config> ) =>\n\t<P extends object>(\n\t\tWrappedComponent: ComponentType<WithCKEditorCloudHocProps<Config> & P>\n\t): ComponentType<Omit<P, keyof WithCKEditorCloudHocProps<Config>>> => {\n\t\tconst ComponentWithCKEditorCloud = ( props: Omit<P, keyof WithCKEditorCloudHocProps<Config>> ) => {\n\t\t\tconst ckeditorCloudResult = useCKEditorCloud( config.cloud );\n\n\t\t\tswitch ( ckeditorCloudResult.status ) {\n\t\t\t\t// An error occurred while fetching the cloud information.\n\t\t\t\tcase 'error':\n\t\t\t\t\tif ( !config.renderError ) {\n\t\t\t\t\t\treturn 'Unable to load CKEditor Cloud data!';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn config.renderError( ckeditorCloudResult.error );\n\n\t\t\t\t// The cloud information has been fetched successfully.\n\t\t\t\tcase 'success':\n\t\t\t\t\treturn <WrappedComponent {...props as P} cloud={ ckeditorCloudResult } />;\n\n\t\t\t\t// The cloud information is being fetched.\n\t\t\t\tdefault:\n\t\t\t\t\treturn config.renderLoader?.() ?? null;\n\t\t\t}\n\t\t};\n\n\t\tComponentWithCKEditorCloud.displayName = 'ComponentWithCKEditorCloud';\n\n\t\treturn ComponentWithCKEditorCloud;\n\t};\n\nexport default withCKEditorCloud;\n\n/**\n * Props injected by the `withCKEditorCloud` HOC.\n *\n * @template Config The configuration of the CKEditor Cloud integration.\n */\nexport type WithCKEditorCloudHocProps<Config extends CKEditorCloudConfig = CKEditorCloudConfig> = {\n\n\t/**\n\t * The result of the CKEditor Cloud integration.\n\t */\n\tcloud: CKEditorCloudResult<Config>;\n};\n\n/**\n * The configuration of the CKEditor Cloud integration.\n *\n * @template Config The configuration of the CKEditor Cloud integration.\n */\ntype CKEditorCloudHocConfig<Config extends CKEditorCloudConfig> = {\n\n\t/**\n\t * The configuration of the CKEditor Cloud integration.\n\t */\n\tcloud: Config;\n\n\t/**\n\t * Component to render while the cloud information is being fetched.\n\t */\n\trenderLoader?: () => ReactNode;\n\n\t/**\n\t * Component to render when an error occurs while fetching the cloud information.\n\t */\n\trenderError?: ( error: any ) => ReactNode;\n};\n"],"names":["_a","REACT_INTEGRATION_READ_ONLY_LOCK_ID","_","root","roots"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"debugId":null}}]
}